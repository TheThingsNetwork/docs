<!DOCTYPE html>

<html lang="en-us" class="has-ttn-navbar-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <meta name="generator" content="Hugo 0.88.1" />

  <title>Connecting to The Things Network (TTN) | The Things Network</title>
  <link rel="canonical" href="https://www.thethingsnetwork.org/docs/devices/rak7204/rak7204/connecting-to-ttn/" />
  

  <link rel="apple-touch-icon-precomposed" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png">

  <meta name="msapplication-TileColor" content="#FFFFFF">
  <meta name="msapplication-TileImage" content="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png">

  <meta name="application-name" content="The Things Network">
  <meta name="msapplication-tooltip" content="Tooltip">
  <meta name="msapplication-config" content="https://ttnweb.azureedge.net/static/common/favicon/ieconfig.54334a5ee30c.xml">

  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-32.61b30f85680a.png" sizes="32x32">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-57.83b86c64dc82.png" sizes="57x57">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-76.7dcf8fa36dfc.png" sizes="76x76">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-96.27ac17adaa8b.png" sizes="96x96">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-120.e1526731335e.png" sizes="120x120">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-128.fabea041224c.png" sizes="128x128">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png" sizes="144x144">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png" sizes="152x152">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-180.fcd414307ca3.png" sizes="180x180">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-195.c55ce09d66da.png" sizes="195x195">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-228.bea53ec4b10b.png" sizes="228x228">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/smalltile.fabea041224c.png" sizes="128x128">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/mediumtile.3d42f7faac82.png" sizes="270x270">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/widetile.3d42f7faac82.png" sizes="558x270">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/largetile.eb144ebab4d1.png" sizes="558x558">
  <link rel="shortcut icon" sizes="196x196" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-196.277278d69ddc.png">
  <link rel="stylesheet" href="https://www.thethingsnetwork.org/docs/css/theme.min.58fca61d6003439b384e4126a522c6391c0560a0cbd77a99c73d351bb2018920.css" integrity="sha256-WPymHWADQ5s4TkEmpSLGORwFYKDL13qZxz01G7IBiSA=" crossorigin="anonymous">

  <link rel="stylesheet" href="https://ttui.thethingsindustries.com/release/1.3.1/main.css" />

  <meta property="og:title" content="Connecting to The Things Network (TTN)" />
<meta property="og:description" content="We are building a global open free crowdsourced long range low power IoT data network" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.thethingsnetwork.org/docs/devices/rak7204/rak7204/connecting-to-ttn/" /><meta property="og:image" content="https://www.thethingsnetwork.org/docs/img/og-image.png"/><meta property="og:site_name" content="The Things Network" />



  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.thethingsnetwork.org/docs/img/og-image.png"/>

<meta name="twitter:title" content="Connecting to The Things Network (TTN)"/>
<meta name="twitter:description" content="We are building a global open free crowdsourced long range low power IoT data network"/>


</head>


<body>

<ttn-header class="theme-ttn" root-url="https://www.thethingsnetwork.org"></ttn-header><section class="section">
  <div class="container">
    <nav class="breadcrumb has-dot-separator" aria-label="breadcrumbs">
      <ul>
        
        
          <li><a href="https://www.thethingsnetwork.org/docs/v2-docs/">Go Back - V2 Docs (Outdated)</a></li>
        
        
            <li class="is-active">
              <a href="https://www.thethingsnetwork.org/docs/devices/">Devices (V2)</a>
            </li>
          
        
            <li class="">
              <a href="https://www.thethingsnetwork.org/docs/gateways/">Gateways (V2)</a>
            </li>
          
        
            <li class="">
              <a href="https://www.thethingsnetwork.org/docs/applications/">Applications (V2)</a>
            </li>
          
        
            <li class="">
              <a href="https://www.thethingsnetwork.org/docs/network/">Network (V2)</a>
            </li>
          
        
      
      </ul>
    </nav>
    
      <div class="notification is-warning is-light has-text-dark">
        <h5 class="title is-family-sans-serif has-text-dark mb-1">Warning:</h5>
        This section contains documentation written for The Things Network V2, which is no longer maintained. See <a href="https://thethingsindustries.com/docs">documentation for The Things Stack V3</a>.
      </div>
    
  </div>
</section>
<div class="container" role="document">
  <div class="columns my-0 is-desktop">
    <div class="column is-3-desktop sidebar-left">
      


<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">Devices</h2>

<div class="menu">
  <ul class="menu-list">
  <a href="https://www.thethingsnetwork.org/docs/devices/" class="">Overview</a>
  <li>
      <a href="https://www.thethingsnetwork.org/docs/devices/bestpractices/" class="">Best Practices</a>
    </li>
  <li>
      <a href="https://www.thethingsnetwork.org/docs/devices/registration/" class="">Device Registration</a>
    </li>
  <li>
      <a href="https://www.thethingsnetwork.org/docs/devices/bytes/" class="">Working with Bytes</a>
    </li>
  
    <p class="menu-label">
      SDKs &amp; Libraries
    </p>
    
      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/arduino/" class="">Arduino</a>
</li>

  
    <p class="menu-label">
      Hardware
    </p>
    
      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/rak5205-wistrio-lora-tracker/" class="">RAK5205 WisTrio LoRa® Tracker</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/rak7200-lora-tracker/" class="">RAK7200 LoRa® Tracker</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/rak811-lora-module-breakout-board/" class="">RAK811 LoRa® Breakout Module</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/rak811-lora-evaluation-board/" class="">RAK811 LoRa® Evaluation Board</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/rak811-wisnode-lora-module/" class="">RAK811 WisNode LoRa Module</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/node/" class="">The Things Node</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/uno/" class="">The Things Uno</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/lopy/" class="">LoPy</a>
</li>

  
  </ul>
</div>





</nav>

    </div>
    <div class="column is-9-desktop sidebar-middle">
      <div class="docs-content">
        <h1 class="title is-size-2">
          Connecting to The Things Network (TTN)
        </h1>
        <div class="content">
          
<p>The Things Network is about enabling low power devices to use long range gateways to connect to an open-source, decentralized network to exchange data with Application. Learn more about the Things Network here.</p>
<ul>
<li>First, connect RAK7204 LoRa Environmental Sensor with your PC and open the serial port tool on your PC.</li>
<li>Second, open the serial port by clicking the following button:</li>
</ul>
<p><img src="../images/serialportttn.png" alt="Figure 1: RAK7204 Serial Port"></p>
<blockquote>
<p><strong>Note:</strong> In this section, it is assumed that you have connected your LoRa gateway with TTN correctly. If not, please have a look  at the document of RAK LoRa Gateway.</p>
</blockquote>
<ul>
<li>Now go to the <a href="https://www.thethingsnetwork.org/">The Things Network</a> website ang click login. Fill in the necessary credentials and in the &ldquo;<strong>Console</strong>&rdquo; tab, pick &ldquo;<strong>Application</strong>&rdquo; as shown in the image below.</li>
</ul>
<p><img src="../images/ttnlogin.jpg" alt="Figure 2: TTN Login"></p>
<ul>
<li>Press the &ldquo;<strong>add application</strong>&rdquo; button.</li>
<li>Create your own Application by filling up with correct contents.</li>
</ul>
<blockquote>
<p><strong>Note:</strong> Your Device ID is a unique ID of lower case, alphanumeric characters and nonconsecutive - and _.</p>
</blockquote>
<p><img src="../images/ttnparamaters.jpg" alt="Figure 3: TTN Parameters"></p>
<ul>
<li>Then press the “Add application” button at the bottom of this page, and you can see the following page:</li>
</ul>
<p><img src="../images/addapplication.jpg" alt="Figure 4: TTN Add Application"></p>
<ul>
<li>At the middle of this page, you can find the box named “<strong>DEVICES</strong>”. Then, click &ldquo;<strong>Register Device</strong>&rdquo;.</li>
</ul>
<p><img src="../images/adddevice.jpg" alt="Figure 5: TTN Add Device"></p>
<ul>
<li>Fill in the &ldquo;<strong>Device ID</strong>&rdquo; . Click the icon in the “<strong>Device EUI</strong>”, then a code is generated automatically. Then press the “<strong>Register</strong>” button at the bottom of this page to finish.</li>
</ul>
<p><img src="../images/deviceEUI.jpg" alt="Figure 6: TTN DeviceEUI"></p>
<p>When you connect the RAK7204 to a LoRa Gateway, we need some amount of security and trust to be established amongst them. There are two connection modes, and we distinguish between them using the criteria of security and ease of implementation. These are the Over-The-Air Activation (OTAA) and Activation By Personalization (ABP).</p>
<h2 id="join-in-otaa-mode">Join in OTAA Mode&nbsp;<a class="header-hash" href="#join-in-otaa-mode">#</a> </h2>
<p>From the previous section, it can be seen that the default activation for TTN is OTAA. In joining OTAA, these three parameters are necessary: Device EUI, Application EUI and App Key.</p>
<p><img src="../images/ootaparameters.jpg" alt="Figure 7: OOTA Parameters"></p>
<blockquote>
<p><strong>Note:</strong> The default LoRa work mode is LoRaWAN 1.0.2, while the default LoRa join mode is OOTA, and the default LoRa Class is A.</p>
</blockquote>
<ul>
<li>If the join mode is not in OTAA, just set the LoRa join mode to OTAA and LoRa class to Class A. Open your RAK7204 Firmware and type the following commands.</li>
</ul>
<p><img src="../images/ootamodeandclass.jpg" alt="Figure 8: OOTA Mode and Class"></p>
<ul>
<li>Type the following AT command to set the: <strong>Frequency/Region to EU868, Device EUI, Application EUI and Application Key</strong>:</li>
</ul>
<p><img src="../images/ootafrequencyanddeviceeui.jpg" alt="Figure 9: OOTA Frequency and DeviceEUI"></p>
<p><img src="../images/ootaappkeyappeui.jpg" alt="Figure 10: OOTA Appkey and AppEUI"></p>
<ul>
<li>Then, join in OTAA mode.</li>
</ul>
<p><img src="../images/joinoota.jpg" alt="Figure 11: Join OOTA"></p>
<ul>
<li>Joined Successfully! Now, try sending data from our RAK7204 LoRa Environmental Sensor to TTN.</li>
</ul>
<p><img src="../images/ootasendingdata.jpg" alt="Figure 12: OOTA Sending Data"></p>
<ul>
<li>We can view the data sent from the RAK7204 LoRa Environmental Sensor to our The Things Network Application Data</li>
</ul>
<p><img src="../images/ootadataviewing.jpg" alt="Figure 13: OOTA Data Viewing"></p>
<h2 id="join-in-abp-mode">Join in ABP Mode&nbsp;<a class="header-hash" href="#join-in-abp-mode">#</a> </h2>
<p>To join the ABP mode, go to device settings and switch the activation method to ABP.</p>
<p><img src="../images/abpswitching.jpg" alt="Figure 14: ABP Switching"></p>
<ul>
<li>Set the Device Address, Network Session Key and App Session Key. These three parameters will be used on RAK7204 LoRa Environmental Sensor:</li>
</ul>
<p><img src="../images/abpparameters.jpg" alt="Figure 15: ABP Parameters"></p>
<p>OK! Now, let’s join in ABP mode and set EU868 frequency as an example.</p>
<ul>
<li>If the join mode is not in ABP, just set the LoRa join mode to ABP and LoRa class to Class A. Open your RAK7204 Firmware and type the following commands</li>
</ul>
<p><img src="../images/abpmodeclass.jpg" alt="Figure 16: ABP Mode and Class"></p>
<p>Type the following AT command to set the: <strong>Frequency/Region to EU868, Device Address, Network Session Key and App Session Key</strong>:</p>
<p><img src="../images/abpfreqanddevadd.jpg" alt="Figure 17: ABP Frequency and Device Address"></p>
<p><img src="../images/abpnetworkandapplicationkey.jpg" alt="Figure 18: ABP Network and AppKey"></p>
<ul>
<li>Then, join in ABP mode.</li>
</ul>
<p><img src="../images/abpjoin.jpg" alt="Figure 19: ABP Join"></p>
<blockquote>
<p><strong>Note:</strong> Actually, it is not necessary to join in ABP mode. But, you still need to set this ATcommand to validate the parameters set for ABP Mode.</p>
</blockquote>
<ul>
<li>Joined Successfully. Now, try sending data from our RAK7204 LoRa Environmental Sensor to TTN.</li>
</ul>
<p><img src="../images/abpsend.jpg" alt="Figure 20: ABP Send Data"></p>
<ul>
<li>We can view the data sent from the RAK7204 LoRa Environmental Sensor to our The Things Network Application Data</li>
</ul>
<p><img src="../images/abpdataview.jpg" alt="Figure 21: ABP View Data"></p>
<h3 id="optional-configurations">Optional Configurations&nbsp;<a class="header-hash" href="#optional-configurations">#</a> </h3>
<p>You can also try other configurations which is supported in RAK7204 LoRa Environmental Sensor. Click through the guides provided below to learn more. Enjoy!</p>
<ul>
<li>Connecting to [LoRaServer](<a href="https://doc.rakwireless.com/rak7204-lora-environmental-sensor/connecting-to-loraserver">https://doc.rakwireless.com/rak7204-lora-environmental-sensor/connecting-to-loraserver</a></li>
<li>LoRa <a href="https://doc.rakwireless.com/rak7204-lora-environmental-sensor/lorap2p-mode">P2P Mode</a></li>
</ul>


        </div>
      
      




  

  

  


<div class="is-clearfix">
</div>

      </div>
    </div>
  </div>
</div>


<div class="ttn-footer ttui-container"><ttn-footer class="theme-ttn"></ttn-footer></div>

<script src="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
<script src="https://ttnweb.azureedge.net/static/common/js/ga.js"></script>
<script src="https://www.thethingsnetwork.org/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsnetwork.org/docs/js/theme.min.31c19cd691195a35b02746b7261b28ca9036fe4a3eed7d3e849762eeab55450e.js" integrity="sha256-McGc1pEZWjWwJ0a3JhsoypA2/ko&#43;7X0&#43;hJdi7qtVRQ4=" crossorigin="anonymous"></script>

<ttui-cookie class="theme-ttn" id="cookie-banner"></ttui-cookie>

<script>
  var cookieBanner = document.getElementById("cookie-banner");
  window.addEventListener("ttuicookieaccept", cookieAccept, { capture: true, once: true } );
  var cookieAcceptKey = 'ttn-ca'
  var timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;

  if (readCookieAccept() || !timezone.includes("Europe") ) {
      cookieBanner.setAttribute('accepted', true);
  }

  function readCookieAccept() {
      return localStorage.getItem(cookieAcceptKey)
  }

  function cookieAccept() {
      localStorage.setItem(cookieAcceptKey, true);
  }
</script>

</body>

</html>
