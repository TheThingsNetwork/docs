<!DOCTYPE html>

<html lang="en-us" class="has-ttn-navbar-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <meta name="generator" content="Hugo 0.88.1" />

  <title>Troubleshooting | The Things Network</title>
  <link rel="canonical" href="https://www.thethingsnetwork.org/docs/devices/node/troubleshooting/" />
  

  <link rel="apple-touch-icon-precomposed" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png">

  <meta name="msapplication-TileColor" content="#FFFFFF">
  <meta name="msapplication-TileImage" content="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png">

  <meta name="application-name" content="The Things Network">
  <meta name="msapplication-tooltip" content="Tooltip">
  <meta name="msapplication-config" content="https://ttnweb.azureedge.net/static/common/favicon/ieconfig.54334a5ee30c.xml">

  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-32.61b30f85680a.png" sizes="32x32">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-57.83b86c64dc82.png" sizes="57x57">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-76.7dcf8fa36dfc.png" sizes="76x76">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-96.27ac17adaa8b.png" sizes="96x96">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-120.e1526731335e.png" sizes="120x120">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-128.fabea041224c.png" sizes="128x128">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png" sizes="144x144">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png" sizes="152x152">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-180.fcd414307ca3.png" sizes="180x180">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-195.c55ce09d66da.png" sizes="195x195">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-228.bea53ec4b10b.png" sizes="228x228">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/smalltile.fabea041224c.png" sizes="128x128">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/mediumtile.3d42f7faac82.png" sizes="270x270">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/widetile.3d42f7faac82.png" sizes="558x270">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/largetile.eb144ebab4d1.png" sizes="558x558">
  <link rel="shortcut icon" sizes="196x196" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-196.277278d69ddc.png">
  <link rel="stylesheet" href="https://www.thethingsnetwork.org/docs/css/theme.min.58fca61d6003439b384e4126a522c6391c0560a0cbd77a99c73d351bb2018920.css" integrity="sha256-WPymHWADQ5s4TkEmpSLGORwFYKDL13qZxz01G7IBiSA=" crossorigin="anonymous">

  <link rel="stylesheet" href="https://ttui.thethingsindustries.com/release/1.6.0/main.css" />

  <meta property="og:title" content="Troubleshooting" />
<meta property="og:description" content="We are building a global open free crowdsourced long range low power IoT data network" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.thethingsnetwork.org/docs/devices/node/troubleshooting/" /><meta property="og:image" content="https://www.thethingsnetwork.org/docs/img/og-image.png"/><meta property="og:site_name" content="The Things Network" />



  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.thethingsnetwork.org/docs/img/og-image.png"/>

<meta name="twitter:title" content="Troubleshooting"/>
<meta name="twitter:description" content="We are building a global open free crowdsourced long range low power IoT data network"/>


</head>


<body>

<ttn-header class="theme-ttn" root-url="https://www.thethingsnetwork.org"></ttn-header><section class="section">
  <div class="container">
    <nav class="breadcrumb has-dot-separator" aria-label="breadcrumbs">
      <ul>
        
        
          <li><a href="https://www.thethingsnetwork.org/docs/v2-docs/">Go Back - V2 Docs (Outdated)</a></li>
        
        
            <li class="is-active">
              <a href="https://www.thethingsnetwork.org/docs/devices/">Devices (V2)</a>
            </li>
          
        
            <li class="">
              <a href="https://www.thethingsnetwork.org/docs/gateways/">Gateways (V2)</a>
            </li>
          
        
            <li class="">
              <a href="https://www.thethingsnetwork.org/docs/applications/">Applications (V2)</a>
            </li>
          
        
            <li class="">
              <a href="https://www.thethingsnetwork.org/docs/network/">Network (V2)</a>
            </li>
          
        
      
      </ul>
    </nav>
    
      <div class="notification is-warning is-light has-text-dark">
        <h5 class="title is-family-sans-serif has-text-dark mb-1">Warning:</h5>
        This section contains documentation written for The Things Network V2, which is no longer maintained. See <a href="https://thethingsindustries.com/docs">documentation for The Things Stack V3</a>.
      </div>
    
  </div>
</section>
<div class="container" role="document">
  <div class="columns my-0 is-desktop">
    <div class="column is-3-desktop sidebar-left">
      


<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">Devices</h2>

<div class="menu">
  <ul class="menu-list">
  <a href="https://www.thethingsnetwork.org/docs/devices/" class="">Overview</a>
  <li>
      <a href="https://www.thethingsnetwork.org/docs/devices/bestpractices/" class="">Best Practices</a>
    </li>
  <li>
      <a href="https://www.thethingsnetwork.org/docs/devices/registration/" class="">Device Registration</a>
    </li>
  <li>
      <a href="https://www.thethingsnetwork.org/docs/devices/bytes/" class="">Working with Bytes</a>
    </li>
  
    <p class="menu-label">
      SDKs &amp; Libraries
    </p>
    
      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/arduino/" class="">Arduino</a>
</li>

  
    <p class="menu-label">
      Hardware
    </p>
    
      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/rak5205-wistrio-lora-tracker/" class="">RAK5205 WisTrio LoRa速 Tracker</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/rak7200-lora-tracker/" class="">RAK7200 LoRa速 Tracker</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/rak811-lora-module-breakout-board/" class="">RAK811 LoRa速 Breakout Module</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/rak811-lora-evaluation-board/" class="">RAK811 LoRa速 Evaluation Board</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/rak811-wisnode-lora-module/" class="">RAK811 WisNode LoRa Module</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/node/" class="">The Things Node</a>
  


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsnetwork.org/docs/devices/node/troubleshooting/" class="is-active">Troubleshooting</a>
    
    



    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/devices/node/api/" class="">API Reference</a>
    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/devices/node/map/" class="">Map your Device!</a>
    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/devices/node/quick-start/" class="">Quick Start</a>
    
  </li>

</ul>


  
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/uno/" class="">The Things Uno</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/lopy/" class="">LoPy</a>
</li>

  
  </ul>
</div>





</nav>

    </div>
    <div class="column is-9-desktop sidebar-middle">
      <div class="docs-content">
        <h1 class="title is-size-2">
          Troubleshooting
        </h1>
        <div class="content">
          
<p>The Things Node is based on the <a href="https://www.sparkfun.com/products/12587">SparkFun Pro Micro - 3.3V/8Mhz</a>. A lot of their resources apply to our board as well. In this section we&rsquo;ll discuss some common issues and link to relevant resources from SparkFun.</p>
<h2 id="serial-port-not-showing-up-mac-os">Serial Port not showing up (Mac OS)&nbsp;<a class="header-hash" href="#serial-port-not-showing-up-mac-os">#</a> </h2>
<p>Since Mac OS El Capitan, there have been <a href="https://www.google.com/search?q=arduino+usb+el+capitan+unstable">many reports</a> with all kinds of Arduino devices where the serial port does not show up. Both <a href="https://learn.sparkfun.com/tutorials/how-to-install-ftdi-drivers/all#yosemite">SparkFun</a> and the Google search we linked give all kinds of suggestions for possible fixes. However, the simplest solution that always seems to work is to connect the Arduino via a USB hub.</p>
<h2 id="serial-port-shows-up-but-uploading-code-fails-linux">Serial Port shows up, but uploading code fails (Linux)&nbsp;<a class="header-hash" href="#serial-port-shows-up-but-uploading-code-fails-linux">#</a> </h2>
<p>Try the <a href="https://www.arduino.cc/en/Guide/Linux#toc6">steps documented on the Arduino Website</a>. Normally the problem is another program also trying to access the serial port. <strong>modemmanager</strong> and <strong>usb_modeswitch</strong> are common culprits of this.</p>
<h2 id="bricked">Bricked&nbsp;<a class="header-hash" href="#bricked">#</a> </h2>
<p>When your Things Node or Things Uno is bricked, the serial port is also not showing up. Following the common steps as laid out above does not work when the device is bricked. &ldquo;Bricked&rdquo; basically means that the USB-serial-port on the board is not active, meaning that you do not have a way to program it.</p>
<p>The most common cause of &ldquo;bricking&rdquo; is uploading code to the device that was verified and uploaded while an incorrectly board was chosen in the Arduino IDE. This is such an easy mistake which happens to the best of us, especially if you are switching between working on your The Things Uno and The Things Node.</p>
<p>SparkFun has a <a href="https://learn.sparkfun.com/tutorials/pro-micro--fio-v3-hookup-guide/troubleshooting-and-faq#ts-revive">guide</a> explaining how to fix this. These steps are also valid for The Things Node and The Things Uno. We will however continue with a summary of how to unbrick a Things Node.</p>
<ol>
<li>
<p>Prepare by opening the Arduino IDE. Open a new blank sketch, go to <strong>Tools &gt; Boards &gt; SparkFun Pro Micro</strong> and then <strong>Tools &gt; Processor &gt; ATmega32U4 (3.3V, 8Mhz)</strong> for The Things Node (choose Arduino Leonardo if you are using The Things Uno). Click on verify.</p>
</li>
<li>
<p>Open up the back of The Things Node using a Phillips screw driver.
<img src="../node-open-case.jpg" alt=""></p>
</li>
<li>
<p>Remove the batteries, and remove the two Torx screws inside the battery holder. You will need a Torx #10 screw driver for this.
<img src="../node-remove-pcb.jpg" alt=""></p>
</li>
<li>
<p>Remove the PCB from the case. On the rear side you will see the Reset button (marked as <strong>S2</strong>) and the LED (marked as <strong>D2</strong>).
<img src="../node-reset-led.jpg" alt=""></p>
</li>
<li>
<p>Plug in a USB cable between the Node and your computer. The Node should power up and the LED should blink or stay on, depending on what code is on it. Press the reset button twice, with about a second between presses. If you were successful, the LED should start fading on and off.</p>
</li>
<li>
<p>While the LED is fading on and off, the Node is in bootloader mode. While in bootloader mode you should see a USB-serial device on your computer and in the Arduino IDE. Select it from <strong>Tools &gt; Port</strong>. The device only stays in bootloader mode for 8 seconds, so you have to be quick. Don&rsquo;t worry though, you can do this over and over again until you are successful.</p>
</li>
<li>
<p>While the device is in bootloader mode, inside the Arduino IDE open a blank sketch and click on upload. If this takes too long and the Node exits bootloader mode before the Arduino IDE can upload the new blank sketch, try first clicking on <strong>Upload</strong>, and then put the device into bootloader mode.</p>
</li>
</ol>
<p>Alternatively you can also use <strong>avrdude</strong> to perform an erase of the microcontroller. This is much quicker than using the Arduino IDE to upload a new sketch, but needs some more knowledge of avrdude and AVR microcontrollers.
<code>avrdude -patmega32u4 -cavr109 -P/dev/ttyACM0 -b57600 -e</code></p>
<ol start="8">
<li>After you have programmed the device with a blank sketch, or erased it, you should be able to program it normally.</li>
</ol>


        </div>
      
      




  

  

  


<div class="is-clearfix">
</div>

      </div>
    </div>
  </div>
</div>


<div class="ttn-footer ttui-container"><ttn-footer class="theme-ttn"></ttn-footer></div>

<script src="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
<script src="https://ttnweb.azureedge.net/static/common/js/ga.js"></script>
<script src="https://www.thethingsnetwork.org/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsnetwork.org/docs/js/theme.min.e9d1391ae656a4b9575605eb0f2bd96dd90db33c4923e109f52a813861a4da1a.js" integrity="sha256-6dE5GuZWpLlXVgXrDyvZbdkNszxJI&#43;EJ9SqBOGGk2ho=" crossorigin="anonymous"></script>

<ttui-cookie class="theme-ttn" id="cookie-banner"></ttui-cookie>

<script>
  var cookieBanner = document.getElementById("cookie-banner");
  window.addEventListener("ttuicookieaccept", cookieAccept, { capture: true, once: true } );
  var cookieAcceptKey = 'ttn-ca'
  var timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;

  if (readCookieAccept() || !timezone.includes("Europe") ) {
      cookieBanner.setAttribute('accepted', true);
  }

  function readCookieAccept() {
      return localStorage.getItem(cookieAcceptKey)
  }

  function cookieAccept() {
      localStorage.setItem(cookieAcceptKey, true);
  }
</script>

</body>

</html>
