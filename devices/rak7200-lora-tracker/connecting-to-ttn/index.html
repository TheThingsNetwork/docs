<!DOCTYPE html>

<html lang="en-us" class="has-ttn-navbar-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <meta name="generator" content="Hugo 0.79.0" />

  <title>Connecting to The Things Network (TTN) | The Things Network</title>
  <link rel="canonical" href="https://www.thethingsnetwork.org/docs/devices/rak7200-lora-tracker/connecting-to-ttn/" />
  

  <link rel="apple-touch-icon-precomposed" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png">

  <meta name="msapplication-TileColor" content="#FFFFFF">
  <meta name="msapplication-TileImage" content="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png">

  <meta name="application-name" content="The Things Network">
  <meta name="msapplication-tooltip" content="Tooltip">
  <meta name="msapplication-config" content="https://ttnweb.azureedge.net/static/common/favicon/ieconfig.54334a5ee30c.xml">

  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-32.61b30f85680a.png" sizes="32x32">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-57.83b86c64dc82.png" sizes="57x57">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-76.7dcf8fa36dfc.png" sizes="76x76">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-96.27ac17adaa8b.png" sizes="96x96">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-120.e1526731335e.png" sizes="120x120">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-128.fabea041224c.png" sizes="128x128">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png" sizes="144x144">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png" sizes="152x152">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-180.fcd414307ca3.png" sizes="180x180">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-195.c55ce09d66da.png" sizes="195x195">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-228.bea53ec4b10b.png" sizes="228x228">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/smalltile.fabea041224c.png" sizes="128x128">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/mediumtile.3d42f7faac82.png" sizes="270x270">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/widetile.3d42f7faac82.png" sizes="558x270">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/largetile.eb144ebab4d1.png" sizes="558x558">
  <link rel="shortcut icon" sizes="196x196" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-196.277278d69ddc.png">
  <link rel="stylesheet" href="https://www.thethingsnetwork.org/docs/css/theme.min.5f16158ee56d6ec8c5d251c083d6f0b30d3f37873c267b17930f33ae570d69fe.css" integrity="sha256-XxYVjuVtbsjF0lHAg9bwsw0/N4c8JnsXkw8zrlcNaf4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://www.thethingsnetwork.org/static/common/css/ui.css" crossorigin="anonymous">

  <meta property="og:title" content="Connecting to The Things Network (TTN)" />
<meta property="og:description" content="We are building a global open free crowdsourced long range low power IoT data network" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.thethingsnetwork.org/docs/devices/rak7200-lora-tracker/connecting-to-ttn/" />
<meta property="og:image" content="https://www.thethingsnetwork.org/docs/img/og-image.png"/>
<meta property="og:site_name" content="The Things Network" />


  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.thethingsnetwork.org/docs/img/og-image.png"/>

<meta name="twitter:title" content="Connecting to The Things Network (TTN)"/>
<meta name="twitter:description" content="We are building a global open free crowdsourced long range low power IoT data network"/>


</head>


<body>

<ttn-header class="theme-ttn"></ttn-header><section class="section">
  <div class="container">
    <nav class="breadcrumb has-dot-separator" aria-label="breadcrumbs">
      <ul>
        
        
          <li><a href="https://www.thethingsnetwork.org/docs/v2-docs/">Go Back - V2 Docs (Outdated)</a></li>
        
        
            <li class="is-active">
              <a href="https://www.thethingsnetwork.org/docs/devices/">Devices (V2)</a>
            </li>
          
        
            <li class="">
              <a href="https://www.thethingsnetwork.org/docs/gateways/">Gateways (V2)</a>
            </li>
          
        
            <li class="">
              <a href="https://www.thethingsnetwork.org/docs/applications/">Applications (V2)</a>
            </li>
          
        
            <li class="">
              <a href="https://www.thethingsnetwork.org/docs/network/">Network (V2)</a>
            </li>
          
        
      
      </ul>
    </nav>
  </div>
</section>

<div class="container" role="document">
  <div class="columns my-0 is-desktop">
    <div class="column is-3-desktop sidebar-left">
      


<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">Devices</h2>

<div class="menu">
  <ul class="menu-list">
  <a href="https://www.thethingsnetwork.org/docs/devices/" class="">Overview</a>
  <li>
      <a href="https://www.thethingsnetwork.org/docs/devices/bestpractices/" class="">Best Practices</a>
    </li>
  <li>
      <a href="https://www.thethingsnetwork.org/docs/devices/registration/" class="">Device Registration</a>
    </li>
  <li>
      <a href="https://www.thethingsnetwork.org/docs/devices/bytes/" class="">Working with Bytes</a>
    </li>
  
    <p class="menu-label">
      SDKs &amp; Libraries
    </p>
    
      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/arduino/" class="">Arduino</a>
</li>

  
    <p class="menu-label">
      Hardware
    </p>
    
      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/rak5205-wistrio-lora-tracker/" class="">RAK5205 WisTrio LoRa® Tracker</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/rak7200-lora-tracker/" class="">RAK7200 LoRa® Tracker</a>
  


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsnetwork.org/docs/devices/rak7200-lora-tracker/connecting-to-ttn/" class="is-active">Connecting to The Things Network (TTN)</a>
    
    



    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/devices/rak7200-lora-tracker/configuring-rak7200-at-commands/" class="">Configuring your RAK7200 Using AT Commands</a>
    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/devices/rak7200-lora-tracker/device-firmware-upgrading/" class="">Device Firmware Upgrading</a>
    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/devices/rak7200-lora-tracker/device-firmware-setup/" class="">Device Firmware Setup</a>
    
  </li>

</ul>


  
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/rak811-lora-module-breakout-board/" class="">RAK811 LoRa® Breakout Module</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/rak811-lora-evaluation-board/" class="">RAK811 LoRa® Evaluation Board</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/rak811-wisnode-lora-module/" class="">RAK811 WisNode LoRa Module</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/node/" class="">The Things Node</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/uno/" class="">The Things Uno</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/devices/lopy/" class="">LoPy</a>
</li>

  
  </ul>
</div>





</nav>

    </div>
    <div class="column is-9-desktop sidebar-middle">
      <div class="docs-content">
        <h1 class="title is-size-2">
          Connecting to The Things Network (TTN)
        </h1>
        <div class="content">
          
<p>The Things Network is about enabling low power devices to be used in long range gateways that connect to an open-source, decentralized network and exchange data with Applications. Learn more about the Things Network <a href="https://www.thethingsnetwork.org/docs/"><strong>here</strong></a>. In this section, we’ll show how to connect the RAK7200 Lora® Tracker to The Things Network (TTN).</p>
<p><strong>1</strong>.First, connect the RAK7200 Lora® Tracker to your PC and open the <strong>RAK Serial Port Tool</strong>.</p>
<p><strong>2</strong>.&quot;<strong>Select</strong>&quot; the appropriate COM port and click &ldquo;<strong>OPEN</strong>&rdquo; button same with the image shown below. Read more on how to interface your RAK7200 Lora® Tracker with your computer in this <a href="https://doc.rakwireless.com/rak7200-lora---tracker/interfacing-with-rak7200-lora---tracker">document</a>.</p>
<p><img src="../images/rak7200serialport.jpg" alt="Figure 1: RAK7200 Serial Port Tool"></p>
<h3 id="registering-device">Registering Device&nbsp;<a class="header-hash" href="#registering-device">#</a> </h3>
<blockquote>
<p><strong>Note</strong> In this section, it is assumed that you have already successfully connected your RAK LoRa® Gateways to The Things Network (TTN). If not, refer to the individual documentation of all the RAK LoRAWAN™ Gateways through <a href="https://doc.rakwireless.com/">here</a>.</p>
</blockquote>
<p><strong>3</strong>.Now, go to the <a href="https://www.thethingsnetwork.org/"><strong>The Things Network (TTN) Website</strong></a> and log on.</p>
<p><img src="../images/ttnwelcome.jpg" alt="Figure 2: The Things Network Homepage"></p>
<p><strong>4</strong>.Choose &ldquo;<strong>Console</strong>&rdquo; located at the top right corner. Then, Click &ldquo;<strong>Application</strong>&rdquo;.</p>
<p><img src="../images/ttnconsole.png" alt="Figure 3: TTN Console page"></p>
<p><strong>5</strong>.Press the &ldquo;<strong>add application</strong>&rdquo; button.</p>
<p><img src="../images/ttnaddapplication.png" alt="Figure 4: TTN Applications Page"></p>
<p><strong>6</strong>.Create your own Application by filling in the correct parameters.</p>
<blockquote>
<p><strong>Note</strong>: The Application ID is a unique combination of lower case, alphanumeric characters and nonconsecutive &ldquo;-&rdquo; and &ldquo;_&rdquo;.</p>
</blockquote>
<p><img src="../images/ttnaddapplicationpage.png" alt="Figure 5: TTN Applications Page"></p>
<p><strong>7</strong>.Then, press the “<strong>Add application</strong>” button at the bottom of this page, and you can see the following page:</p>
<p><img src="../images/ttnapplicationinfo.png" alt="Figure 6: TTN Application Information Page"></p>
<p><strong>8</strong>.At the middle of this page, you can find the box named “<strong>DEVICES</strong>” and click “<strong>register device</strong>”.</p>
<p><img src="../images/ttnregisterdevice.jpg" alt="Figure 7: Registering Device in TTN"></p>
<p><strong>9</strong>.Fill in the &ldquo;<strong>Device ID</strong>&rdquo; . Click the icon in the “<strong>Device EUI</strong>”, then a code is generated automatically.</p>
<ul>
<li>You can get the “<strong>Device EUI</strong>” of your RAK7200 Lora® Tracker with the following command, which will display all node parameters:</li>
</ul>
<pre><code>at+get_config=lora:status
</code></pre><ul>
<li>In case you have had The Things Network (TTN) generate a new “<strong>Device EUI</strong>”, you can use the command below to import it into the RAK7200 Lora® Tracker configuration parameters (XXXX is the Device_EUI you want to update):</li>
</ul>
<pre><code>at+set_config=lora:dev eui:XXXX
</code></pre><p><img src="../images/ttndeviceinfo.png" alt="Figure 8: Filling in the Device Information"></p>
<p><strong>10</strong>.Then press the “<strong>Register</strong>” button at the bottom of this page to finish.</p>
<p><img src="../images/ttndeviceoverview.png" alt="Figure 9: Device Overview in TTN"></p>
<p>When you connect the RAK7200 Lora® Tracker to a LoRaWAN Gateway, we need some amount of security and trust to be established amongst them. There are two connection modes, and we distinguish between them using the criteria of security and ease of implementation. These are the <strong>Over-The-Air Activation (OTAA)</strong> and <strong>Activation By Personalization (ABP)</strong>.</p>
<h3 id="otaa-mode">OTAA Mode&nbsp;<a class="header-hash" href="#otaa-mode">#</a> </h3>
<p>According to The Things Network (TTN), <strong>Over-the-Air Activation (OTAA)</strong> is the preferred and most secure way to connect with The Things Network (TTN). Thus, it is chosen as the default method when registering a device. For configuring it you need the following three parameters: <strong>Device EUI, Application EUI and App Key</strong>. You can get them all from the <strong>Overview page</strong>.</p>
<p><img src="../images/ttnotaaparam.png" alt="Figure 10: Device OTAA Parameters"></p>
<p>Now, let us configure the RAK7200 Lora® Tracker to work in OTAA mode in the EU868 band, as an example.</p>
<blockquote>
<p><strong>Note</strong> The default LoRa® working mode for the RAK7200 Lora® Tracker is LoRaWAN™ 1.0.2, while the default LoRa® join mode is OTAA, and the default LoRa® class is Class A.</p>
</blockquote>
<p><strong>1</strong>.Using the RAK Serial Port Tool, set mode to <strong>OTAA</strong>, device class to <strong>Class A</strong> and your <strong>LoRaWAN™ Region</strong> to your correct frequency band, with the following set of commands below. Remember to replace XXX with the your LoRaWAN™ region, see this <a href="https://www.thethingsnetwork.org/docs/lorawan/frequencies-by-country.html">link</a> for your frequency plan.</p>
<pre><code>at+set_config=lora:join_mode:0
</code></pre><pre><code>at+set_config=lora:class:0
</code></pre><pre><code>at+set_config=lora:region:XXX
</code></pre><p><img src="../images/otaamodeclassfreq.png" alt="Figure 11: Setting of LoRa® Mode and Class"></p>
<p><strong>2</strong>.Now that the modes are set, enter the parameters: : <strong>Device EUI, Application EUI and App Key</strong>. Use the commands below. Remember to replace the &ldquo;<strong>XXXX</strong>&rdquo; with the corresponding parameter value for your particular case:</p>
<pre><code>at+set_config=lora:dev_eui:XXXX
</code></pre><pre><code>at+set_config=lora:app_eui:XXXX
</code></pre><pre><code>at+set_config=lora:app_key:XXXX
</code></pre><p><img src="../images/otaadeveuiappeuiappkey.png" alt="Figure 12: Setting of Frequency and Device EUI"></p>
<p><strong>3</strong>.Finally, execute the join command:</p>
<pre><code>at+join
</code></pre><p><img src="../images/otaajoinmode.png" alt="Figure 13: Joining OTAA Mode"></p>
<p><strong>4</strong>.Test the connection by sending an uplink frame. Use the following as an example:</p>
<pre><code>at+send=lora:1:12345678
</code></pre><p><img src="../images/otaasenddata.png" alt="Figure 14: Sending an Uplink Frame"></p>
<p><strong>5</strong>.If you get a response in your TTN live data feed as in the figure below, then you are all set!</p>
<p><img src="../images/otaadatatransmitted.png" alt="Figure 15: View Transmitted Data through TTN"></p>
<p>Great! That’s all about OTAA mode.</p>
<h3 id="abp-mode">ABP Mode&nbsp;<a class="header-hash" href="#abp-mode">#</a> </h3>
<p><strong>Authentication By Personalisation (ABP)</strong> is a LoRaWAN™ activation mode that enables manual configuration of encryption keys on the device and is capable of sending frames to RAK gateways without needing a &lsquo;handshake&rsquo; procedure in exchanging keys unlike OTAA.</p>
<p>This is a mode best used for testing environments.However, it is not recommended for production, as it is less secure. In this section, we will go through the steps in connecting to TTN using ABP mode.</p>
<p><strong>1</strong>.To start with, join the ABP mode by going to device settings then switch the activation method to ABP.</p>
<p><img src="../images/ttnabpmode.png" alt="Figure 16: Switching the Activation Method to ABP"></p>
<p><strong>2</strong>.The <strong>Device Address, Network Session Key</strong> and <strong>App Session Key</strong> will be generated automatically by default.Save the mode change and return to the <strong>Device Overview page</strong>. You can copy the keys by pressing the button after the value fields marked in red in the image below:</p>
<p><img src="../images/ttnabpparam.png" alt="Figure 17: Setting the ABP Parameters"></p>
<p><strong>3</strong>.Now, we need to update the RAK7200 Lora® Tracker configuration. Open the RAK Serial Port Tool and type the command below to set these parameters: <strong>Activation Mode</strong> to <strong>ABP, Device Address, Network Session Key</strong> and <strong>Applicatio Session Key</strong> and your <strong>LoRaWAN™ Region</strong> to your correct frequency band. Remember to replace XXX with the your LoRaWAN™ region, see this <a href="https://www.thethingsnetwork.org/docs/lorawan/frequencies-by-country.html">link</a> for your frequency plan.</p>
<pre><code>at+set_config=lora:region:XXX
</code></pre><pre><code>at+set_config=lora:join_mode:1
</code></pre><p><img src="../images/ttnabpfreqmode.png" alt="Figure 18: Setting of Region LoRa® Mode"></p>
<pre><code>at+set_config=lora:dev_addr:XXXX
</code></pre><pre><code>at+set_config=lora:nwks_key:XXXX
</code></pre><pre><code>at+set_config=lora:apps_key:XXXX
</code></pre><p><img src="../images/ttnabpdevaddrnwkskeyappskey.png" alt="Figure 19: Setting of Network and Application Key"></p>
<p><strong>4</strong>.Then, join in ABP mode.</p>
<pre><code>at+join
</code></pre><p><img src="../images/tnnabpjoin.png" alt="Figure 20: Joining in ABP Mode"></p>
<blockquote>
<p><strong>Note:</strong> It is actually unnecessary to join in ABP mode. But, it is a good practice to set this AT Command to validate the parameters set for ABP Mode.</p>
</blockquote>
<p><strong>5</strong>.You can test the connection by sending an uplink frame. Use the following as an example:</p>
<pre><code>at+send=lora:1:12345678
</code></pre><p><img src="../images/ttnabpsenddata.png" alt="Figure 21: Sending an Uplink Frame"></p>
<p>Great! Your node should now work in ABP mode.</p>
<p><img src="../images/ttnabpreceivedata.png" alt="Figure 22: Sending Data to TTN from RAK7200 Lora® Tracker"></p>
<h3 id="optional-configurations">Optional Configurations&nbsp;<a class="header-hash" href="#optional-configurations">#</a> </h3>
<p>You can also try other configurations which is supported in RAK7200 LoRa Tracker. Click through the guides provided below to learn more. Enjoy!</p>
<ul>
<li>Connecting to <a href="https://doc.rakwireless.com/rak7200-lora---tracker/connect-to-chirpstack">Chirpstack</a></li>
<li><a href="https://doc.rakwireless.com/rak7200-lora---tracker/analyzing-the-data-from-rak7200">RAK7200 Data Analyzing</a></li>
</ul>


        </div>
      
      




  

  

  


<div class="is-clearfix">
</div>

      </div>
    </div>
  </div>
</div>


<div class="ttn-footer"><ttn-footer class="theme-ttn"></ttn-footer></div>

<script src="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
<script src="https://www.thethingsnetwork.org/static/common/js/web-components/ttn-header.js"></script>
<script src="https://www.thethingsnetwork.org/static/common/js/web-components/ttn-footer.js"></script>
<script src="https://ttnweb.azureedge.net/static/common/js/ga.js"></script>
<script src="https://www.thethingsnetwork.org/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsnetwork.org/docs/js/theme.min.00ace5d667ca108a93b8a0d385569f7c7bb9f46ed32eefe3f5fb39105763cccd.js" integrity="sha256-AKzl1mfKEIqTuKDThVaffHu59G7TLu/j9fs5EFdjzM0=" crossorigin="anonymous"></script>

</body>

</html>
