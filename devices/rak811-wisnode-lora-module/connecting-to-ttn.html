<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="stylesheet" href="/docs/assets/css/main.css" />
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script>
    (function(canonical) {
      if (document.location.href.substr(0, document.location.href.length - document.location.hash.length) !== canonical) {
        window.location.replace(canonical);
      }
    })('https://www.thethingsnetwork.org/docs/devices/rak811-wisnode-lora-module/connecting-to-ttn.html');
    </script>
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Connecting to The Things Network (TTN) | The Things Network</title>
<meta name="generator" content="Jekyll v3.4.5" />
<meta property="og:title" content="Connecting to The Things Network (TTN)" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Connecting to The Things Network (TTN)" />
<meta property="og:description" content="Connecting to The Things Network (TTN)" />
<link rel="canonical" href="https://www.thethingsnetwork.org/docs/devices/rak811-wisnode-lora-module/connecting-to-ttn.html" />
<meta property="og:url" content="https://www.thethingsnetwork.org/docs/devices/rak811-wisnode-lora-module/connecting-to-ttn.html" />
<meta property="og:site_name" content="The Things Network" />
<meta property="og:image" content="https://www.thethingsnetwork.org/docs/assets/images/og-image.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-03-30T08:43:29+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://www.thethingsnetwork.org/docs/assets/images/og-image.png" />
<meta property="twitter:title" content="Connecting to The Things Network (TTN)" />
<meta name="twitter:site" content="@thethingsnetwrk" />
<meta property="article:publisher" content="https://www.facebook.com/thethingsnetwork" />
<script type="application/ld+json">
{"description":"Connecting to The Things Network (TTN)","headline":"Connecting to The Things Network (TTN)","dateModified":"2020-03-30T08:43:29+00:00","datePublished":"2020-03-30T08:43:29+00:00","@type":"BlogPosting","image":"https://www.thethingsnetwork.org/docs/assets/images/og-image.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.thethingsnetwork.org/docs/devices/rak811-wisnode-lora-module/connecting-to-ttn.html"},"url":"https://www.thethingsnetwork.org/docs/devices/rak811-wisnode-lora-module/connecting-to-ttn.html","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ttnstaticfile.blob.core.windows.net/static/common/favicon/largetile.png"}},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
    <link rel="apple-touch-icon-precomposed" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png">
    <meta name="application-name" content="The Things Network">
    <meta name="msapplication-tooltip" content="Tooltip">
    <meta name="msapplication-config" content="https://ttnweb.azureedge.net/static/common/favicon/ieconfig.54334a5ee30c.xml">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-32.61b30f85680a.png" sizes="32x32">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-57.83b86c64dc82.png" sizes="57x57">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-76.7dcf8fa36dfc.png" sizes="76x76">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-96.27ac17adaa8b.png" sizes="96x96">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-120.e1526731335e.png" sizes="120x120">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-128.fabea041224c.png" sizes="128x128">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png" sizes="144x144">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png" sizes="152x152">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-180.fcd414307ca3.png" sizes="180x180">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-195.c55ce09d66da.png" sizes="195x195">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-228.bea53ec4b10b.png" sizes="228x228">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/smalltile.fabea041224c.png" sizes="128x128">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/mediumtile.3d42f7faac82.png" sizes="270x270">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/widetile.3d42f7faac82.png" sizes="558x270">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/largetile.eb144ebab4d1.png" sizes="558x558">
    <link rel="shortcut icon" sizes="196x196" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-196.277278d69ddc.png">
    <script src="/docs/assets/js/main.js"></script>
  </head>
  <body>
    <div id="header"></div>
    <div id="content">
<div class="layout-page">
  <!-- <div class="ttn-header ttn-header-small">
    <div class="ttn-container container-fluid">
      <h1>
        <img src="/docs/assets/images/the-things-white.png" alt="⛅ The Things Network" />
        <span>Learn</span>
      </h1>
    </div>
  </div> -->
  <div class="container-fluid ttn-container">
    <div class="row page-top-nav">
      <div class="col-sm-9">
        <ul>
          <li class="page-top-nav-crumb"><a href="http://www.thethingsnetwork.org/">Home</a></li>
          <li class="page-top-nav-crumb"><a href="/docs/">Learn</a></li>
                <li class=""><a href="/docs/lorawan/">LoRaWAN</a></li>
                <li class="active"><a href="/docs/devices/">Devices</a></li>
                <li class=""><a href="/docs/gateways/">Gateways</a></li>
                <li class=""><a href="/docs/network/">Network</a></li>
                <li class=""><a href="/docs/applications/">Applications</a></li>
        </ul>
      </div>
      <div class="hidden-xs col-sm-3 text-right">
        <a href="https://github.com/TheThingsNetwork/docs/edit/master/_content/devices/rak811-wisnode-lora-module/connecting-to-ttn.md" class="page-edit" data-proofer-ignore><i class="fa fa-github"></i> Edit <strong>connecting-to-ttn.md</strong></a>
      </div>
    </div>
    <div class="row wrapper">
      <div class="col-sm-3 side-nav">
        <div class="panel page-side-nav">
          <div class="panel-body">
            <ul>
              <li class=""><a href="/docs/devices/index.html"><h5>Devices</h5></a>
            <ul>
                <li class=""><a href="/docs/devices/registration.html">Device Registration</a>
                </li>
                <li class=""><a href="/docs/devices/bytes.html">Working with Bytes</a>
                </li>
                <li class=""><a href="/docs/devices/bestpractices.html">Best Practices</a>
                </li>
            </ul>
              </li>
            <li class="page-side-nav-section"><span>SDKs & Libraries</span>
            <ul>
                <li class=""><a href="/docs/devices/arduino/">Arduino</a>
                </li>
            </ul>
            </li>
            <li class="page-side-nav-section"><span>Hardware</span>
            <ul>
                <li class=""><a href="/docs/devices/uno/">The Things Uno</a>
                </li>
                <li class=""><a href="/docs/devices/rak5205-wistrio-lora-tracker/">RAK5205 WisTrio LoRa® Tracker</a>
                </li>
                <li class=""><a href="/docs/devices/rak7200-lora-tracker/">RAK7200 LoRa® Tracker</a>
                </li>
                <li class=""><a href="/docs/devices/rak811-lora-module-breakout-board/">RAK811 LoRa® Breakout Module</a>
                </li>
                <li class=""><a href="/docs/devices/rak811-lora-evaluation-board/">RAK811 LoRa® Evaluation Board</a>
                </li>
                <li class=""><a href="/docs/devices/rak811-wisnode-lora-module/">RAK811 WisNode LoRa Module</a>
            <ul>
                <li class=""><a href="/docs/devices/rak811-wisnode-lora-module/burning-the-bootloader.html">Burning the Bootloader into the Device</a>
                </li>
                <li class=""><a href="/docs/devices/rak811-wisnode-lora-module/burning-the-firmware.html">Burning the Firmware</a>
                </li>
                <li class=""><a href="/docs/devices/rak811-wisnode-lora-module/configuring-wisnode.html">Configuring the RAK811 WisNode LoRa Module</a>
                </li>
                <li class="active"><a href="/docs/devices/rak811-wisnode-lora-module/connecting-to-ttn.html">Connecting to The Things Network (TTN)</a>
                </li>
            </ul>
                </li>
                <li class=""><a href="/docs/devices/node/">The Things Node</a>
                </li>
                <li class=""><a href="/docs/devices/lopy/">LoPy</a>
                </li>
            </ul>
            </li>
            </ul>
            <!-- <li class="hidden-xs col-sm-2 page-toc page-affix"></li> --> 
          </div>
        </div> 
      </div>
      <div class="col-sm-9 page-body">
        <div class="panel">
          <div class="panel-body page-content">
            <h1 id="connecting-to-the-things-network-ttn">Connecting to The Things Network (TTN)</h1>
<p>The Things Network is about enabling low power devices to use long range gateways to connect to an open-source, decentralized network to exchange data with Application. Learn more about the Things Network here.</p>
<p>1 . First, connect RAK811 WisNode LoRa Module with your PC and open the serial port tool on your PC.</p>
<p>2 . Select the appropriate COM port and open it as in the image:</p>
<p><img src="images/serialportttn.png" alt="Figure 1: RAK811 Serial Port" /></p>
<blockquote>
  <p><strong>Note:</strong> In this section, it is assumed that you have connected your LoRa gateway with TTN correctly.</p>
</blockquote>
<p>3 . Now go to the <a href="https://www.thethingsnetwork.org/">The Things Network</a> website ang Log in. Fill in the necessary credentials and in the “<strong>Console</strong>” tab, pick “<strong>Application</strong>” as shown in the image below.</p>
<p><img src="images/ttnlogin.jpg" alt="Figure 2. TTN Console page" /></p>
<p>4 . Press the “<strong>add application</strong>” button.</p>
<p><img src="images/ttnapplication.jpg" alt="Figure 3: TTN Applications Page" /></p>
<p>5 . Create your own Application by filling up with correct contents.</p>
<blockquote>
  <p><strong>Note:</strong> Your Device ID is a unique ID of lower case, alphanumeric characters and nonconsecutive - and _.</p>
</blockquote>
<p><img src="images/addapplication.jpg" alt="Figure 4: TTN Add Application Page" /></p>
<p>6 . Then press the “Add application” button at the bottom of this page, and you can see the following page:</p>
<p><img src="images/adddevice.jpg" alt="Figure 5: TTN Application Information Page" /></p>
<p>7 . At the middle of this page, you can find the box named “<strong>DEVICES</strong>”. Then, click “<strong>Register Device</strong>”.</p>
<p><img src="images/register.jpg" alt="Figure 6: Registering Device in TTN" /></p>
<p>8 . Fill in the “<strong>Device ID</strong>” . Click the icon in the “<strong>Device EUI</strong>”, then a code is generated automatically.</p>
<p>You can get the “Device EUI” of your RAK811 with the following command, which will display all node parameters:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>at+get_config=lora:status
</code></pre>
</div>
<p>In case you have had TTN generate a new “Device EUI” you can use the command below to import it into the RAK811 configuration parameters (X is the Device_EUI you want to update):</p>
<div class="highlighter-rouge"><pre class="highlight"><code>at+set_config=lora:dev eui:XXXX
</code></pre>
</div>
<p><img src="images/ttnparamaters.jpg" alt="Figure 7: Filling in the Device Information" /></p>
<p>9 .Then press the “<strong>Register</strong>” button at the bottom of this page to finish.</p>
<p><img src="images/deviceEUI.jpg" alt="Figure 8: Device Overview in TTN" /></p>
<p>When you connect the RAK811 to a LoRa Gateway, we need some amount of security and trust to be established amongst them. There are two connection modes, and we distinguish between them using the criteria of security and ease of implementation. These are the Over-The-Air Activation (OTAA) and Activation By Personalization (ABP).</p>
<h2 id="join-in-otaa-mode">Join in OTAA Mode</h2>
<p>From the previous section, it can be seen that the default activation for TTN is OTAA. In joining OTAA, these three parameters are necessary: Device EUI, Application EUI and App Key.</p>
<p><img src="images/ootaparameters.jpg" alt="Figure 9: OOTA Parameters" /></p>
<blockquote>
  <p><strong>Note:</strong> The default LoRa work mode is LoRaWAN 1.0.2, while the default LoRa join mode is OOTA, and the default LoRa Class is A.</p>
</blockquote>
<ul>
  <li>If the join mode is not in OTAA, just set the LoRa join mode to OTAA and LoRa class to Class A. Open your RAK811 Firmware and type the following commands.</li>
</ul>
<p><img src="images/ootamodeandclass.jpg" alt="Figure 10: OOTA Mode and Class" /></p>
<ul>
  <li>Type the following AT command to set the: <strong>Frequency/Region to EU868, Device EUI, Application EUI and Application Key</strong>:</li>
</ul>
<p><img src="images/ootafrequencyanddeviceeui.jpg" alt="Figure 11: OOTA Frequency and DeviceEUI" /></p>
<p><img src="images/ootaappkeyappeui.jpg" alt="Figure 12: OOTA Appkey and AppEUI" /></p>
<ul>
  <li>Then, join in OTAA mode.</li>
</ul>
<p><img src="images/joinoota.jpg" alt="Figure 13: Join OOTA" /></p>
<ul>
  <li>Joined Successfully! Now, try sending data from our RAK811 WisNode LoRa Module to TTN.</li>
</ul>
<p><img src="images/ootasendingdata.jpg" alt="Figure 14: OOTA Sending Data" /></p>
<ul>
  <li>We can view the data sent from the RAK811 WisNode LoRa Module to our The Things Network Application Data</li>
</ul>
<p><img src="images/ootadataviewing.jpg" alt="Figure 15: OOTA Data Viewing" /></p>
<h2 id="join-in-abp-mode">Join in ABP Mode</h2>
<p>To join the ABP mode, go to device settings and switch the activation method to ABP.</p>
<p><img src="images/abpswitching.jpg" alt="Figure 16: ABP Switching" /></p>
<ul>
  <li>Set the Device Address, Network Session Key and App Session Key. These three parameters will be used on RAK811 WisNode LoRa Module:</li>
</ul>
<p><img src="images/abpparameters.jpg" alt="Figure 17: ABP Parameters" /></p>
<p>OK! Now, let’s join in ABP mode and set EU868 frequency as an example.</p>
<ul>
  <li>If the join mode is not in ABP, just set the LoRa join mode to ABP and LoRa class to Class A. Open your RAK811 Firmware and type the following commands</li>
</ul>
<p><img src="images/abpmodeclass.jpg" alt="Figure 18: ABP Mode and Class" /></p>
<p>Type the following AT command to set the: <strong>Frequency/Region to EU868, Device Address, Network Session Key and App Session Key</strong>:</p>
<p><img src="images/abpfreqanddevadd.jpg" alt="Figure 19: ABP Frequency and Device Address" /></p>
<p><img src="images/abpnetworkandapplicationkey.jpg" alt="Figure 20: ABP Network and AppKey" /></p>
<ul>
  <li>Then, join in ABP mode.</li>
</ul>
<p><img src="images/abpjoin.jpg" alt="Figure 21: ABP Join" /></p>
<blockquote>
  <p><strong>Note:</strong> Actually, it is not necessary to join in ABP mode. But, you still need to set this ATcommand to validate the parameters set for ABP Mode.</p>
</blockquote>
<ul>
  <li>Joined Successfully. Now, try sending data from our RAK811 WisNode LoRa Module to TTN.</li>
</ul>
<p><img src="images/abpsend.jpg" alt="Figure 22: ABP Send Data" /></p>
<ul>
  <li>We can view the data sent from the RAK811 WisNode LoRa Module to our The Things Network Application Data</li>
</ul>
<p><img src="images/abpdataview.jpg" alt="Figure 23: ABP View Data" /></p>
<h3 id="optional-configurations">Optional Configurations</h3>
<p>You can also try other configurations which is supported in RAK811 WisNode LoRa Module. Click through the guides provided below to learn more. Enjoy!</p>
<ul>
  <li>Connecting to <a href="https://doc.rakwireless.com/rak811-wisnode-lora-module/connecting-to-loraserver">LoRaServer</a></li>
  <li>LoRa <a href="https://doc.rakwireless.com/rak811-wisnode-lora-module/lora-p2p-mode">P2P Mode</a></li>
</ul>
          </div>  
        </div>
        <div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="lightbox" tabindex="-1" role="dialog">
  <div class="modal-dialog text-center" role="document" style="width:auto;padding:20px;">
    <a href="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png"><img class="modal-content modal-body" src="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png" alt="Zoom" /></a>
  </div>
</div>
<script src="/docs/assets/js/page.js"></script>
    </div>
    <div id="footer"></div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.min.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/ttn-components.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/vue-navbar.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/vue-footer.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/ga.js"></script>
  </body>
</html>
