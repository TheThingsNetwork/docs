<!DOCTYPE html>

<html lang="en-us" class="has-ttn-navbar-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <meta name="generator" content="Hugo 0.88.1" />

  <title>Configuring Your Gateway | The Things Network</title>
  <link rel="canonical" href="https://www.thethingsnetwork.org/docs/gateways/rak7243c/configuring-gateway/" />
  

  <link rel="apple-touch-icon-precomposed" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png">

  <meta name="msapplication-TileColor" content="#FFFFFF">
  <meta name="msapplication-TileImage" content="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png">

  <meta name="application-name" content="The Things Network">
  <meta name="msapplication-tooltip" content="Tooltip">
  <meta name="msapplication-config" content="https://ttnweb.azureedge.net/static/common/favicon/ieconfig.54334a5ee30c.xml">

  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-32.61b30f85680a.png" sizes="32x32">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-57.83b86c64dc82.png" sizes="57x57">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-76.7dcf8fa36dfc.png" sizes="76x76">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-96.27ac17adaa8b.png" sizes="96x96">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-120.e1526731335e.png" sizes="120x120">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-128.fabea041224c.png" sizes="128x128">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png" sizes="144x144">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png" sizes="152x152">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-180.fcd414307ca3.png" sizes="180x180">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-195.c55ce09d66da.png" sizes="195x195">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-228.bea53ec4b10b.png" sizes="228x228">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/smalltile.fabea041224c.png" sizes="128x128">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/mediumtile.3d42f7faac82.png" sizes="270x270">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/widetile.3d42f7faac82.png" sizes="558x270">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/largetile.eb144ebab4d1.png" sizes="558x558">
  <link rel="shortcut icon" sizes="196x196" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-196.277278d69ddc.png">
  <link rel="stylesheet" href="https://www.thethingsnetwork.org/docs/css/theme.min.58fca61d6003439b384e4126a522c6391c0560a0cbd77a99c73d351bb2018920.css" integrity="sha256-WPymHWADQ5s4TkEmpSLGORwFYKDL13qZxz01G7IBiSA=" crossorigin="anonymous">

  <link rel="stylesheet" href="https://ttui.thethingsindustries.com/release/1.3.1/main.css" />

  <meta property="og:title" content="Configuring Your Gateway" />
<meta property="og:description" content="We are building a global open free crowdsourced long range low power IoT data network" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.thethingsnetwork.org/docs/gateways/rak7243c/configuring-gateway/" /><meta property="og:image" content="https://www.thethingsnetwork.org/docs/img/og-image.png"/><meta property="og:site_name" content="The Things Network" />



  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.thethingsnetwork.org/docs/img/og-image.png"/>

<meta name="twitter:title" content="Configuring Your Gateway"/>
<meta name="twitter:description" content="We are building a global open free crowdsourced long range low power IoT data network"/>


</head>


<body>

<ttn-header class="theme-ttn" root-url="https://www.thethingsnetwork.org"></ttn-header><section class="section">
  <div class="container">
    <nav class="breadcrumb has-dot-separator" aria-label="breadcrumbs">
      <ul>
        
        
          <li><a href="https://www.thethingsnetwork.org/docs/v2-docs/">Go Back - V2 Docs (Outdated)</a></li>
        
        
            <li class="">
              <a href="https://www.thethingsnetwork.org/docs/devices/">Devices (V2)</a>
            </li>
          
        
            <li class="is-active">
              <a href="https://www.thethingsnetwork.org/docs/gateways/">Gateways (V2)</a>
            </li>
          
        
            <li class="">
              <a href="https://www.thethingsnetwork.org/docs/applications/">Applications (V2)</a>
            </li>
          
        
            <li class="">
              <a href="https://www.thethingsnetwork.org/docs/network/">Network (V2)</a>
            </li>
          
        
      
      </ul>
    </nav>
    
      <div class="notification is-warning is-light has-text-dark">
        <h5 class="title is-family-sans-serif has-text-dark mb-1">Warning:</h5>
        This section contains documentation written for The Things Network V2, which is no longer maintained. See <a href="https://thethingsindustries.com/docs">documentation for The Things Stack V3</a>.
      </div>
    
  </div>
</section>
<div class="container" role="document">
  <div class="columns my-0 is-desktop">
    <div class="column is-3-desktop sidebar-left">
      


<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">Gateways</h2>

<div class="menu">
  <ul class="menu-list">
  <a href="https://www.thethingsnetwork.org/docs/gateways/" class="">Overview</a>
  <li>
      <a href="https://www.thethingsnetwork.org/docs/gateways/basics-station/" class="">LoRa Basics™ Station</a>
    </li>
  <li>
      <a href="https://www.thethingsnetwork.org/docs/gateways/certificates/" class="">Root Certificates</a>
    </li>
  
    <p class="menu-label">
      Running a gateway
    </p>
    
      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/troubleshooting/" class="">Troubleshooting</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/lightning-protection/" class="">Lightning Protection</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/packet-forwarder/" class="">Packet Forwarders</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/registration/" class="">Gateway Registration</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/start/" class="">Where to start</a>
</li>

  
    <p class="menu-label">
      Hardware
    </p>
    
      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/pisupply-hat/" class="">Pi Supply Gateway HAT</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/multitech/" class="">MultiTech Conduit</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/rak2245/" class="">RAK2245 Pi Hat Edition - LoRaWAN® Gateway Concentrator Module</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/rak7243c/" class="">RAK7243C Pilot Gateway</a>
  


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsnetwork.org/docs/gateways/rak7243c/connecting-to-ttn/" class="">Connecting to The Things Network (TTN)</a>
    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/gateways/rak7243c/configuring-gateway/" class="is-active">Configuring Your Gateway</a>
    
    



    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/gateways/rak7243c/accesing-gateway/" class="">Accessing Your Gateway</a>
    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/gateways/rak7243c/device-firmware-setup/" class="">Device Firmware Setup</a>
    
  </li>

</ul>


  
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/rak831/" class="">RAK831</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/gateway/" class="">The Things Gateway</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/thethingsindoor/" class="">The Things Indoor Gateway</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/thethingsoutdoor/" class="">The Things Outdoor Gateway</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/aaeon/" class="">AAEON</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/cisco/" class="">Cisco LoRaWAN Gateway</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/kerlink/" class="">Kerlink</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/laird/" class="">Laird RG1xx</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/lorrier/" class="">Lorrier LR2</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/mikrotik/" class="">MikroTik Routerboard</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/st/" class="">P-NUCLEO-LRWAN2</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/tektelic/" class="">Tektelic</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/ursalink/" class="">Ursalink</a>
</li>

  
  </ul>
</div>





</nav>

    </div>
    <div class="column is-9-desktop sidebar-middle">
      <div class="docs-content">
        <h1 class="title is-size-2">
          Configuring Your Gateway
        </h1>
        <div class="content">
          
<h2 id="configuring-the-gateway">Configuring the Gateway&nbsp;<a class="header-hash" href="#configuring-the-gateway">#</a> </h2>
<p>Assuming you have successfully logged into your LoRa Gateway using SSH. Enter the following command in the command line:</p>
<pre tabindex="0"><code>sudo gateway-config
</code></pre><p>You will now then see a page like the following picture below</p>
<p><img src="../images/config-options.png" alt="Figure 1: Configuration Options for the Gateway"></p>
<ol>
<li><strong>Set pi password</strong> - used to set/change the password of the LoRa Gateway.</li>
<li><strong>Set up RAK Gateway LoRa Concenterator</strong> - used to configure the frequency, which the LoRa Gateway will operate on, and the LoRa Server which the LoRa Gateway will work with.</li>
<li><strong>Edit packet-forwarder config</strong>- used to open the global_conf.json file, in order to edit LoRaWAN parameters manually.</li>
<li><strong>Restart packet -forwarder</strong> - used to restart the LoRa packet forwarded process.</li>
<li><strong>Configure Wifi</strong> - used to configure the Wi-Fi settings in order to connect to a network.</li>
<li><strong>Configure LAN</strong> - used to configure the Ethernet adapter settings.</li>
</ol>
<blockquote>
<p><strong>Gateway ID</strong> A unique ID will be generated in for LoRa Gateway. This is also called Gateway EUI and is essential for registering the gateway with any LoRa Network Server (TTN, LoRaServer).</p>
</blockquote>
<p><img src="../images/gateway-id.png" alt="Figure 2: Gateway ID in the Configuration Window"></p>
<p>There is also another way to get your &ldquo;Gateway ID&rdquo;, just enter the command below in the command line:</p>
<pre tabindex="0"><code>gateway-version
</code></pre><p><img src="../images/gateway-id-cmd.png" alt="Figure 3: Gateway ID using the command line"></p>
<h3 id="set-a-new-password-for-the-lora-gateway">Set a new password for the LoRa Gateway&nbsp;<a class="header-hash" href="#set-a-new-password-for-the-lora-gateway">#</a> </h3>
<p>It is a good security practice to change the default password <strong>&ldquo;raspberry&rdquo;</strong> which is the same on all Raspberry Pi devices.</p>
<p><img src="../images/passwd.png" alt="Figure 4: Changing the default password"></p>
<p>You will be asked to enter your new password twice then press &ldquo;Enter&rdquo;.</p>
<h3 id="set-up-rak-gateway-lora-concentrator">Set up RAK Gateway LoRa concentrator&nbsp;<a class="header-hash" href="#set-up-rak-gateway-lora-concentrator">#</a> </h3>
<p>This menu allows you to select your LoRa frequency band and one of the two available Networks Server options:</p>
<ul>
<li><strong>TTN (The Things Network).</strong> If you choose TTN as the LoRa Server, you will see the following page. Visit this <a href="https://www.thethingsnetwork.org/docs/lorawan/frequencies-by-country.html">article</a> for more information on your local TTN frequency plan. This will allow you to choose the correct plan.</li>
</ul>
<p><img src="../images/ttn.jpg" alt="Figure 5: Selecting the TTN Channel Plan"></p>
<ul>
<li><strong>LoRaServer.</strong> If you choose LoRaServer as your LoRa Server, you will see the following page:</li>
</ul>
<p><img src="../images/ttn-loraserver.png" alt="Figure 6: Selecting the Channel Plan for LoRaServer"></p>
<p>Just like with TTN, choose the appropriate frequency for your country. Next, you need to set the IP Address of the LoRaServer, which you want your LoRa Gateway to work with.</p>
<p><img src="../images/loraserver-ip.png" alt="Figure 7: Default LoRaServer IP Address"></p>
<p>The default IP Address is <code>127.0.0.1</code>. If you want to use an external LoRaServer, you need to set it to its IP Address.</p>
<h2 id="connect-the-lora-gateway-to-a-router">Connect the LoRa Gateway to a Router&nbsp;<a class="header-hash" href="#connect-the-lora-gateway-to-a-router">#</a> </h2>
<p>If you want to use TTN or an independent LoRaServer which may be deployed in Local area network or Internet, you need to connect your LoRa Gateway to a router first.</p>
<h3 id="connect-through-wi-fi">Connect through Wi-Fi&nbsp;<a class="header-hash" href="#connect-through-wi-fi">#</a> </h3>
<p>If you want to connect through Wi-Fi, it can easily be done with the Wireless capabilities of the Raspberry Pi.</p>
<p><img src="../images/wifi.png" alt="Figure 8: Configuration options for WIFI"></p>
<p>There are 4 options to choose from in the Wi-Fi configuration menu:</p>
<ol>
<li><strong>Enable AP Mode/Disable Client Mode</strong> - the LoRa Gateway will work in Wi-Fi Access Point Mode after rebooting while the Wi-Fi Client Mode will be disabled (this is the default mode).</li>
<li><strong>Enable Client Mode/Disable AP Mode</strong> - the LoRa Gateway will work in Wi-Fi Client mode after rebooting, while Wi-FI AP Mode will be disabled.</li>
<li><strong>Modify SSID and pwd for AP Mode</strong> - used to modify the SSID and password of the Wi-Fi AP. Only works if the Wi-Fi AP Mode is enabled.</li>
<li><strong>Add New SSID for Client</strong> - this is used if you want to connect to a new Wi-Fi Network. Only works in Wi-Fi Client mode.</li>
</ol>
<h3 id="connect-through-ethernet">Connect through Ethernet&nbsp;<a class="header-hash" href="#connect-through-ethernet">#</a> </h3>
<p>If you want to connect to router through Ethernet Cable, do the following steps:</p>
<ul>
<li>Just fill a static IP Address according to the IP address of the router you want to connect. Please note that the LoRa gateway and the router must be in the same network segment, otherwise the connection will fail.</li>
<li>By default, the IP Address of the LoRa Gateway&rsquo;s Ethernet is <code>192.168.10.10</code></li>
</ul>
<p><img src="../images/ip-lora.png" alt="Figure 9: Default LoRa Gateway Ethernet IP Address"></p>
<ul>
<li>Then configure the IP address of the Router. This is the LAN Interface IP address of the router:</li>
</ul>
<p><img src="../images/lan-ip.png" alt="Figure 10: LAN Interface IP Address of the Router"></p>
<ul>
<li>Press OK then reboot the LoRa Gateway using the command <code>sudo reboot now</code> in the command line and it will connect to the router successfully through Ethernet.</li>
</ul>
<h2 id="connect-the-lte-only-for-the-cellular-version">Connect the LTE (Only for the Cellular Version)&nbsp;<a class="header-hash" href="#connect-the-lte-only-for-the-cellular-version">#</a> </h2>
<p>If you want to deploy your LoRa Gateway to a place where there is no option of connecting to the internet through Wi-Fi or Ethernet, you can still do this through LTE.</p>
<ul>
<li>
<p>First, make sure you have already inserted a suitable SIM Card into the RAK7243C Pilot Gateway. If not, turn off the gateway using the command <code>sudo shutdown now</code> and insert the card.</p>
</li>
<li>
<p>Login to your gateway using SSH and enter the command <code>gateway-config</code> and choose Item 8. Configure LTE Module.</p>
</li>
</ul>
<p><img src="../images/config_lte_option.png" alt="Figure 11: Configure LTE Module Option"></p>
<p>You will see 2 items:</p>
<p><img src="../images/Enable_LTE.png" alt="Figure 12: Enable LTE Automatic Dial-up"></p>
<p>There are 2 configuration Options for the LTE Module:</p>
<ol>
<li>
<p><strong>Enable LTE Automatic Dial-up</strong> - the LoRa Gateway will connect to LTE Automatically, when it boots.</p>
</li>
<li>
<p><strong>Disable LTE Automatic Dial-up</strong> - the LoRa Gateway will not connect to LTE Automatically.</p>
</li>
</ol>
<blockquote>
<p><strong>Note</strong> By default, the LoRa Gateway will connect to LTE Automatically, when it boots. If you want to
disable it, choose &ldquo;Disable LTE Automatic Dial-up&rdquo;</p>
</blockquote>
<ul>
<li>
<p>Now let&rsquo;s configure the LTE Network operator&rsquo;s information. You should make sure that the state of the LTE Connecting Automatically is disabled as of now!</p>
</li>
<li>
<p>Open the built in serial port tool, by executing the following command:</p>
</li>
</ul>
<pre tabindex="0"><code>sudo minicom -D /dev/ttyAMA0 -b 115200
</code></pre><p>Then you will be directed to minicom window:</p>
<p><img src="../images/minicom_window.png" alt="Figure 13: Minicom in the Serial Port Tool"></p>
<ul>
<li>Try to enter the command <code>at</code> , if it returns <strong>OK</strong>, it means that you have opened the Serial Port Successfully!</li>
</ul>
<blockquote>
<p><strong>Note</strong> If you can&rsquo;t see &ldquo;at&rdquo; in the terminal, try to press &ldquo;Ctrl + A&rdquo; , then press &ldquo;Z&rdquo;, then lastly press
&ldquo;E&rdquo;.</p>
</blockquote>
<ul>
<li>Now, execute the AT Command <code>at+cops=?</code> to query all LTE Networks around you. It may take several seconds. When it is done, you can see some information like this:</li>
</ul>
<p><img src="../images/Query_LTE.png" alt="Figure 14: Querying LTE Networks"></p>
<ul>
<li>
<p>The figure above is just a demo showing the different LTE Networks in China and may differ depending on your area.</p>
</li>
<li>
<p>Execute the AT Command <code>at+cops=1,0,XXX,YYY</code> to set the information of the LTE Network operator which you want to use. &ldquo;XXX&rdquo; is the operator identification name (ex: CHINA MOBILE, CHN-UNICOM, CHN-CT). &ldquo;YYY&rdquo; is the last number of the information for each operator - 0 for CHINA MOBILE.</p>
</li>
<li>
<p>If it returns &ldquo;<strong>OK</strong>&rdquo; then you have set it successfully!</p>
</li>
</ul>
<h2 id="configure-apn-name">Configure APN Name&nbsp;<a class="header-hash" href="#configure-apn-name">#</a> </h2>
<p>Now, you should set the APN name for the pppd process too. Go back to configuration options and choose &ldquo;<strong>7 Configure APN name</strong>&quot;:</p>
<p><img src="../images/APN.png" alt="Figure 15: Configure APN Name"></p>
<p>The default APN Name is &ldquo;HOLOGRAM&rdquo;. If you want to modify it, please note that the value must be a true and valid APN Name.Then, set the appropriate baud rate, its default value is 115200.</p>
<p><img src="../images/Baud_Speed.png" alt="Figure 16: Default Baud Speed - 115200"></p>
<p>To test the LTE Function, execute the following command:</p>
<pre tabindex="0"><code>sudo pppd call gprs
</code></pre><p>A log will be displayed. At the end of it, you can see the local and remote IP address and the primary and secondary DNS:</p>
<p><img src="../images/DNS_Add.png" alt="Figure 17: Primary and Secondary DNS Address"></p>
<ul>
<li>
<p>If you see valid addresses as in the image above, it means that the LoRa Gateway has connected to the LTE Network successfully!</p>
</li>
<li>
<p>The last thing you should not forget to do, is to enable the LTE Connecting automatically when it starts.</p>
</li>
</ul>


        </div>
      
      




  

  


<div class="is-clearfix">
</div>

      </div>
    </div>
  </div>
</div>


<div class="ttn-footer ttui-container"><ttn-footer class="theme-ttn"></ttn-footer></div>

<script src="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
<script src="https://ttnweb.azureedge.net/static/common/js/ga.js"></script>
<script src="https://www.thethingsnetwork.org/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsnetwork.org/docs/js/theme.min.31c19cd691195a35b02746b7261b28ca9036fe4a3eed7d3e849762eeab55450e.js" integrity="sha256-McGc1pEZWjWwJ0a3JhsoypA2/ko&#43;7X0&#43;hJdi7qtVRQ4=" crossorigin="anonymous"></script>

<ttui-cookie class="theme-ttn" id="cookie-banner"></ttui-cookie>

<script>
  var cookieBanner = document.getElementById("cookie-banner");
  window.addEventListener("ttuicookieaccept", cookieAccept, { capture: true, once: true } );
  var cookieAcceptKey = 'ttn-ca'
  var timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;

  if (readCookieAccept() || !timezone.includes("Europe") ) {
      cookieBanner.setAttribute('accepted', true);
  }

  function readCookieAccept() {
      return localStorage.getItem(cookieAcceptKey)
  }

  function cookieAccept() {
      localStorage.setItem(cookieAcceptKey, true);
  }
</script>

</body>

</html>
