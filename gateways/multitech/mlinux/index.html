<!DOCTYPE html>

<html lang="en-us" class="has-ttn-navbar-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <meta name="generator" content="Hugo 0.88.1" />

  <title>Configure mLinux model | The Things Network</title>
  <link rel="canonical" href="https://www.thethingsnetwork.org/docs/gateways/multitech/mlinux/" />
  

  <link rel="apple-touch-icon-precomposed" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png">

  <meta name="msapplication-TileColor" content="#FFFFFF">
  <meta name="msapplication-TileImage" content="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png">

  <meta name="application-name" content="The Things Network">
  <meta name="msapplication-tooltip" content="Tooltip">
  <meta name="msapplication-config" content="https://ttnweb.azureedge.net/static/common/favicon/ieconfig.54334a5ee30c.xml">

  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-32.61b30f85680a.png" sizes="32x32">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-57.83b86c64dc82.png" sizes="57x57">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-76.7dcf8fa36dfc.png" sizes="76x76">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-96.27ac17adaa8b.png" sizes="96x96">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-120.e1526731335e.png" sizes="120x120">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-128.fabea041224c.png" sizes="128x128">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png" sizes="144x144">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png" sizes="152x152">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-180.fcd414307ca3.png" sizes="180x180">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-195.c55ce09d66da.png" sizes="195x195">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-228.bea53ec4b10b.png" sizes="228x228">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/smalltile.fabea041224c.png" sizes="128x128">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/mediumtile.3d42f7faac82.png" sizes="270x270">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/widetile.3d42f7faac82.png" sizes="558x270">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/largetile.eb144ebab4d1.png" sizes="558x558">
  <link rel="shortcut icon" sizes="196x196" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-196.277278d69ddc.png">
  <link rel="stylesheet" href="https://www.thethingsnetwork.org/docs/css/theme.min.58fca61d6003439b384e4126a522c6391c0560a0cbd77a99c73d351bb2018920.css" integrity="sha256-WPymHWADQ5s4TkEmpSLGORwFYKDL13qZxz01G7IBiSA=" crossorigin="anonymous">

  <link rel="stylesheet" href="https://ttui.thethingsindustries.com/release/1.3.1/main.css" />

  <meta property="og:title" content="Configure mLinux model" />
<meta property="og:description" content="We are building a global open free crowdsourced long range low power IoT data network" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.thethingsnetwork.org/docs/gateways/multitech/mlinux/" /><meta property="og:image" content="https://www.thethingsnetwork.org/docs/img/og-image.png"/><meta property="og:site_name" content="The Things Network" />



  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.thethingsnetwork.org/docs/img/og-image.png"/>

<meta name="twitter:title" content="Configure mLinux model"/>
<meta name="twitter:description" content="We are building a global open free crowdsourced long range low power IoT data network"/>


</head>


<body>

<ttn-header class="theme-ttn" root-url="https://www.thethingsnetwork.org"></ttn-header><section class="section">
  <div class="container">
    <nav class="breadcrumb has-dot-separator" aria-label="breadcrumbs">
      <ul>
        
        
          <li><a href="https://www.thethingsnetwork.org/docs/v2-docs/">Go Back - V2 Docs (Outdated)</a></li>
        
        
            <li class="">
              <a href="https://www.thethingsnetwork.org/docs/devices/">Devices (V2)</a>
            </li>
          
        
            <li class="is-active">
              <a href="https://www.thethingsnetwork.org/docs/gateways/">Gateways (V2)</a>
            </li>
          
        
            <li class="">
              <a href="https://www.thethingsnetwork.org/docs/applications/">Applications (V2)</a>
            </li>
          
        
            <li class="">
              <a href="https://www.thethingsnetwork.org/docs/network/">Network (V2)</a>
            </li>
          
        
      
      </ul>
    </nav>
    
      <div class="notification is-warning is-light has-text-dark">
        <h5 class="title is-family-sans-serif has-text-dark mb-1">Warning:</h5>
        This section contains documentation written for The Things Network V2, which is no longer maintained. See <a href="https://thethingsindustries.com/docs">documentation for The Things Stack V3</a>.
      </div>
    
  </div>
</section>
<div class="container" role="document">
  <div class="columns my-0 is-desktop">
    <div class="column is-3-desktop sidebar-left">
      


<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">Gateways</h2>

<div class="menu">
  <ul class="menu-list">
  <a href="https://www.thethingsnetwork.org/docs/gateways/" class="">Overview</a>
  <li>
      <a href="https://www.thethingsnetwork.org/docs/gateways/basics-station/" class="">LoRa Basics™ Station</a>
    </li>
  <li>
      <a href="https://www.thethingsnetwork.org/docs/gateways/certificates/" class="">Root Certificates</a>
    </li>
  
    <p class="menu-label">
      Running a gateway
    </p>
    
      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/troubleshooting/" class="">Troubleshooting</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/lightning-protection/" class="">Lightning Protection</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/packet-forwarder/" class="">Packet Forwarders</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/registration/" class="">Gateway Registration</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/start/" class="">Where to start</a>
</li>

  
    <p class="menu-label">
      Hardware
    </p>
    
      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/pisupply-hat/" class="">Pi Supply Gateway HAT</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/multitech/" class="">MultiTech Conduit</a>
  


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsnetwork.org/docs/gateways/multitech/miscellaneous/" class="">Miscellaneous</a>
    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/gateways/multitech/connect-private/" class="">Connect to a private back-end</a>
    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/gateways/multitech/aep/" class="">Configure AEP model</a>
    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/gateways/multitech/mlinux/" class="is-active">Configure mLinux model</a>
    
    



    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/gateways/multitech/wifi/" class="">Configure Wi-Fi</a>
    
  </li>

</ul>


  
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/rak2245/" class="">RAK2245 Pi Hat Edition - LoRaWAN® Gateway Concentrator Module</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/rak7243c/" class="">RAK7243C Pilot Gateway</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/rak831/" class="">RAK831</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/gateway/" class="">The Things Gateway</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/thethingsindoor/" class="">The Things Indoor Gateway</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/thethingsoutdoor/" class="">The Things Outdoor Gateway</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/aaeon/" class="">AAEON</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/cisco/" class="">Cisco LoRaWAN Gateway</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/kerlink/" class="">Kerlink</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/laird/" class="">Laird RG1xx</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/lorrier/" class="">Lorrier LR2</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/mikrotik/" class="">MikroTik Routerboard</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/st/" class="">P-NUCLEO-LRWAN2</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/tektelic/" class="">Tektelic</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/gateways/ursalink/" class="">Ursalink</a>
</li>

  
  </ul>
</div>





</nav>

    </div>
    <div class="column is-9-desktop sidebar-middle">
      <div class="docs-content">
        <h1 class="title is-size-2">
          Configure mLinux model
        </h1>
        <div class="content">
          
<p>mLinux is an open source embedded Linux distribution for the MultiConnect Conduit and is the next generation version of CoreCDP.</p>
<h2 id="prepare-usb-stick">Prepare USB stick&nbsp;<a class="header-hash" href="#prepare-usb-stick">#</a> </h2>
<p>Find a USB stick and add the file <a href="https://github.com/kersing/multitech-installer/raw/master/installer.sh">installer.sh</a> to it.
<em>If the USB is not recognized by the Conduit, please check whether it is FAT or FAT32 formatted</em></p>
<h2 id="connect">Connect&nbsp;<a class="header-hash" href="#connect">#</a> </h2>
<p>Wait to connect the power of the Conduit until we say so. ☝️</p>
<ol>
<li>Remove the panel with the MultiTech logo from the front of the Conduit by remove the single screw to the left of the logo.</li>
<li>Use a Micro-USB cable between the connector you just uncovered and your computer.</li>
<li>Insert the USB stick to USB port on the back of the conduit.</li>
</ol>
<h3 id="windows">Windows&nbsp;<a class="header-hash" href="#windows">#</a> </h3>
<p>Use Windows Device Manager to look up the <code>COM*</code> for the Conduit, identified by <code>* USB UART</code>:</p>
<p><img src="../uart.png" alt="USB UART"></p>
<p>Start PuTTY, set the <strong>Connection type</strong> to: <strong>Serial</strong>, enter the COM port you found and set the <strong>Speed</strong> to <code>115200</code>:</p>
<p><img src="../putty-mlinux.png" alt="PuTTY Configuration"></p>
<h3 id="mac-os--linux">Mac OS / Linux&nbsp;<a class="header-hash" href="#mac-os--linux">#</a> </h3>
<p>Run the following command in terminal to look up the USB connection:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">ls /dev/tty.usb*
</code></pre></div><p>If that doesn&rsquo;t work, try this instead and look for the value of <code>IOSerialCalloutDevice</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">ioreg -c IOSerialBSDClient  <span class="p">|</span> grep usb
</code></pre></div><p>Now connect to the USB device using <code>115200</code> for speed. For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">screen /dev/cu.usbserial <span class="m">115200</span>
</code></pre></div><h2 id="login-via-terminal">Login via terminal&nbsp;<a class="header-hash" href="#login-via-terminal">#</a> </h2>
<p>Connect the Conduit&rsquo;s power cable. You will now see its boot messages. Wait for the login prompt to appear:</p>
<p><img src="../login-mlinux.png" alt="login"></p>
<p>The default credentials are:</p>
<ul>
<li><strong>Username</strong>: <code>root</code></li>
<li><strong>Password</strong>: <code>root </code></li>
</ul>
<h2 id="copy-installer">Copy installer&nbsp;<a class="header-hash" href="#copy-installer">#</a> </h2>
<p>To get the installer we need mount the USB drive:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">mount /dev/sda1 /mnt
</code></pre></div><p>Copy the installer to the conduit:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">cp /mnt/installer* /home/root
</code></pre></div><p>Tell Linux to release the USB drive:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">umount /mnt
</code></pre></div><blockquote>
<p>During the download to the USB stick the <code>installer.sh</code> file might have been renamed to <code>installer.txt</code> or <code>installer.sh.txt</code>. If that happened, just use <code>installer.txt</code> or <code>installer.sh.txt</code> whenever the instructions say <code>installer.sh</code>.</p>
</blockquote>
<h2 id="network-setup">Network Setup&nbsp;<a class="header-hash" href="#network-setup">#</a> </h2>
<p>Start the installer:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">sh installer.sh
</code></pre></div><p>The installer will prompt you for information it requires to configure the Conduit:</p>
<ul>
<li>A new password to secure access to the conduit.</li>
<li>Your time zone.</li>
<li>Network Setup.</li>
</ul>
<p><img src="../installer-mlinux.png" alt="installer"></p>
<p>Once it is done, hit the enter button to shutdown and wait for the led to stop blinking.</p>
<h2 id="reconnect">Reconnect&nbsp;<a class="header-hash" href="#reconnect">#</a> </h2>
<p>Once the led has stopped blinking you can remove the power cable, USB drive, the Micro-USB cable and replace the front panel.</p>
<p>Now use an ethernet cable to connect the Conduit to the target network and reconnect the power cable. Wait for the conduit to finish booting (the heartbeat led starts blinking), connect a computer to the same network and login to the Conduit.</p>
<blockquote>
<p>If you have not configured your Conduit with a static IP, you will have to <a href="http://apple.stackexchange.com/questions/19783/how-do-i-know-the-ip-addresses-of-other-computers-in-my-network">find out which IP the DHCP assigned to it</a>.
You can also find the IP address by reconnecting the Conduit with the Micro-USB Cable. Log in with your Username and Password and type <code>ifconfig</code>. Look for <code>eth0</code>. The number that comes after <code>inet addr</code> is the IP address.</p>
</blockquote>
<ul>
<li>
<p>For Windows use a terminal program like Putty to connect to <code>&lt;IP&gt;</code>:</p>
<p><img src="../putty-mlinux-ip.png" alt="PuTTY Configuration"></p>
<p>You will get a security alert concerning the host key. Accept the new key with <strong>Yes</strong>.</p>
<p><img src="../putty-warning.png" alt="PuTTY Security Alert"></p>
</li>
<li>
<p>For Linux/OSX open terminal and connect via <code>ssh &lt;IP&gt;</code>.</p>
</li>
</ul>
<p>Login as user <code>root</code> with the password you set via the installer.</p>
<p><img src="../login-root.png" alt="login as: root"></p>
<h2 id="ttn-configuration-mlinux">TTN Configuration&nbsp;<a class="header-hash" href="#ttn-configuration-mlinux">#</a> </h2>
<p>Now restart the installer and provide the required answers when prompted:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">sh installer.sh
</code></pre></div><p><img src="../installer-mlinux-2nd-no-gps.png" alt="installer"></p>
<p>The installation is complete once the <code>Starting ttn-packet-forwarder: OK</code> message appears.</p>
<p>Check the output of the packet forwarder for any errors:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">tail /var/log/lora-pkt-fwd.log
</code></pre></div><p>The installation was successful if the output looks something like:</p>
<pre tabindex="0"><code>##### 2016-08-06 23:19:11 GMT #####
### [UPSTREAM] ###
# RF packets received by concentrator: 1
# CRC_OK: 100.00%, CRC_FAIL: 0.00%, NO_CRC: 0.00%
# RF packets forwarded: 1 (19 bytes)
# PUSH_DATA datagrams sent: 2 (461 bytes)
# PUSH_DATA acknowledged: 100.00%
### [DOWNSTREAM] ###
# PULL_DATA sent: 3 (100.00% acknowledged)
# PULL_RESP(onse) datagrams received: 0 (0 bytes)
# RF packets sent to concentrator: 0 (0 bytes)
# TX errors: 0
##### END #####
INFO: [up] PUSH_ACK for server router.eu.thethings.network received in 13 ms
INFO: [down] for server router.eu.thethings.network PULL_ACK received in 13 ms
</code></pre>

        </div>
      
      




  

  


<div class="is-clearfix">
</div>

      </div>
    </div>
  </div>
</div>


<div class="ttn-footer ttui-container"><ttn-footer class="theme-ttn"></ttn-footer></div>

<script src="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
<script src="https://ttnweb.azureedge.net/static/common/js/ga.js"></script>
<script src="https://www.thethingsnetwork.org/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsnetwork.org/docs/js/theme.min.31c19cd691195a35b02746b7261b28ca9036fe4a3eed7d3e849762eeab55450e.js" integrity="sha256-McGc1pEZWjWwJ0a3JhsoypA2/ko&#43;7X0&#43;hJdi7qtVRQ4=" crossorigin="anonymous"></script>

<ttui-cookie class="theme-ttn" id="cookie-banner"></ttui-cookie>

<script>
  var cookieBanner = document.getElementById("cookie-banner");
  window.addEventListener("ttuicookieaccept", cookieAccept, { capture: true, once: true } );
  var cookieAcceptKey = 'ttn-ca'
  var timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;

  if (readCookieAccept() || !timezone.includes("Europe") ) {
      cookieBanner.setAttribute('accepted', true);
  }

  function readCookieAccept() {
      return localStorage.getItem(cookieAcceptKey)
  }

  function cookieAccept() {
      localStorage.setItem(cookieAcceptKey, true);
  }
</script>

</body>

</html>
