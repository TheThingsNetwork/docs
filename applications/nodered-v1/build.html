<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="stylesheet" href="/docs/assets/css/main.css" />
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script>
    (function(canonical) {
      if (document.location.href.substr(0, document.location.href.length - document.location.hash.length) !== canonical) {
        window.location.replace(canonical);
      }
    })('https://www.thethingsnetwork.org/docs/applications/nodered-v1/build.html');
    </script>
    <!-- Begin Jekyll SEO tag v2.1.0 -->
<title>Build - The Things Network</title>
<meta property="og:title" content="Build" />
<meta name="description" content="Build flows" />
<meta property="og:description" content="Build flows" />
<link rel="canonical" href="https://www.thethingsnetwork.org/docs/applications/nodered-v1/build.html" />
<meta property="og:url" content="https://www.thethingsnetwork.org/docs/applications/nodered-v1/build.html" />
<meta property="og:site_name" content="The Things Network" />
<meta property="og:image" content="https://www.thethingsnetwork.org/docs/assets/images/og-image.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-12-29T18:46:57+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@thethingsnetwrk" />
<meta property="article:publisher" content="https://www.facebook.com/thethingsnetwork" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Build",
"image": "https://www.thethingsnetwork.org/docs/assets/images/og-image.png",
"datePublished": "2016-12-29T18:46:57+00:00",
"description": "Build flows",
"publisher": {"@type": "Organization",
"logo": {"@type": "ImageObject",
"url": "https://ttnstaticfile.blob.core.windows.net/static/common/favicon/largetile.png"}},
"url": "https://www.thethingsnetwork.org/docs/applications/nodered-v1/build.html"}</script>
<!-- End Jekyll SEO tag -->
    <link rel="apple-touch-icon-precomposed" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-152.png">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-144.png">
    <meta name="application-name" content="The Things Network">
    <meta name="msapplication-tooltip" content="Building a Global Internet of Things Network Together.">
    <meta name="msapplication-config" content="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/ieconfig.xml">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-32.png" sizes="32x32">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-57.png" sizes="57x57">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-76.png" sizes="76x76">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-96.png" sizes="96x96">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-120.png" sizes="120x120">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-128.png" sizes="128x128">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-144.png" sizes="144x144">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-152.png" sizes="152x152">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-180.png" sizes="180x180">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-195.png" sizes="195x195">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-228.png" sizes="228x228">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/smalltile.png" sizes="128x128">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/mediumtile.png" sizes="270x270">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/widetile.png" sizes="558x270">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/largetile.png" sizes="558x558">
    <link rel="shortcut icon" sizes="196x196" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-196.png">
    <script src="/docs/assets/js/main.js"></script>
  </head>
  <body>
    <div id="content">
<div class="layout-page">
  <div class="ttn-header ttn-header-small">
    <div class="ttn-container container-fluid">
      <h1>
        <img src="/docs/assets/images/the-things-white.png" alt="⛅ The Things Network" />
        <span>Learn</span>
      </h1>
    </div>
  </div>
  <div class="container-fluid ttn-container">
    <div class="row page-top-nav">
      <div class="col-sm-9">
        <ul>
          <li class="page-top-nav-crumb"><a href="http://www.thethingsnetwork.org/">Home</a></li>
          <li class="page-top-nav-crumb"><a href="/docs/">Learn</a></li>
                <li class=""><a href="/docs/devices/">Devices</a></li>
                <li class=""><a href="/docs/gateways/">Gateways</a></li>
                <li class=""><a href="/docs/network/">Network</a></li>
                <li class="active"><a href="/docs/applications/">Applications</a></li>
        </ul>
      </div>
      <div class="hidden-xs col-sm-3 text-right">
        <a href="https://github.com/TheThingsNetwork/docs/edit/master/_content/applications/nodered-v1/build.md" class="page-edit" data-proofer-ignore><i class="fa fa-github"></i> Edit <strong>build.md</strong></a>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-3">
        <div class="panel page-side-nav page-affix">
          <div class="panel-body">
            <h5>Applications</h5>
            <ul>
              <li class=""><a href="/docs/applications/index.html">Overview</a>
            <ul>
                <li class=""><a href="/docs/applications/add.html">Add an Application</a>
                </li>
                <li class=""><a href="/docs/applications/options.html">Build an Application</a>
                </li>
            </ul>
              </li>
            <li class="page-side-nav-section"><span>APIs</span>
            <ul>
                <li class=""><a href="/docs/applications/apis.html">Overview</a>
                </li>
                <li class=""><a href="/docs/applications/manager/">Application Manager</a>
                </li>
                <li class=""><a href="/docs/applications/mqtt/">MQTT</a>
                    <span class="label label-info">v2</span>
                </li>
                <li class=""><a href="/docs/applications/mqtt-v1/">MQTT</a>
                    <span class="label label-info">v1-staging</span>
                </li>
            </ul>
            </li>
            <li class="page-side-nav-section"><span>SDKs & Libraries</span>
            <ul>
                <li class=""><a href="/docs/applications/sdks.html">Overview</a>
                </li>
                <li class=""><a href="/docs/applications/java/">Java</a>
                </li>
                <li class=""><a href="/docs/applications/nodered/">Node-RED</a>
                    <span class="label label-info">v2</span>
                </li>
                <li class=""><a href="/docs/applications/nodered-v1/">Node-RED</a>
                    <span class="label label-info">v1-staging</span>
            <ul>
                <li class=""><a href="/docs/applications/nodered-v1/setup.html">Setup</a>
                </li>
                <li class=""><a href="/docs/applications/nodered-v1/configure.html">Configure</a>
                </li>
                <li class=""><a href="/docs/applications/nodered-v1/test.html">Test</a>
                </li>
                <li class="active"><a href="/docs/applications/nodered-v1/build.html">Build</a>
                </li>
            </ul>
                </li>
                <li class=""><a href="/docs/applications/nodejs/">Node.js</a>
                    <span class="label label-info">v2</span>
                </li>
                <li class=""><a href="/docs/applications/nodejs-v1/">Node.js</a>
                    <span class="label label-info">v1-staging</span>
                </li>
            </ul>
            </li>
            <li class="page-side-nav-section"><span>Integrations</span>
            <ul>
                <li class=""><a href="/docs/applications/integrations.html">Overview</a>
                </li>
                <li class=""><a href="/docs/applications/storage/">Storage Integration</a>
                </li>
            </ul>
            </li>
                <li class="page-side-nav-section"><span>Links <i class="fa fa-link"></i></span>
                  <ul>
                      <li class=""><a href="/docs/applications/../network/migrate.html">Migrate form Staging to Production</a></li>
                  </ul>
                </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-sm-7">
        <div class="panel">
          <div class="panel-body page-content">
            <h1 id="build-flows">Build flows</h1>
<p>Node-RED allows you to build all kinds of flows with basic business logic. You can add switches, triggers, custom functions and install thousands of nodes with additional functionality, for example storing data in a database.</p>
<p>You can find a lot of example flows and additional nodes in the <a href="http://flows.nodered.org/">Node-RED Library</a></p>
<h2 id="example-ifttt">Example: IFTTT</h2>
<p>A common use case is to invoke a HTTP request to an external web service of your application. Here’s an example of how to forward the data to If This Then That (IFTTT) where we can link up other APIs.</p>
<blockquote>
  <p>You can find this full example in the <a href="http://flows.nodered.org/flow/2d475e136cda21c3d642b0da66e565fe">Node-RED Library</a>.</p>
</blockquote>
<h3 id="create-a-recipe-at-ifttt">Create a Recipe at IFTTT</h3>
<ol>
  <li>Go to <a href="https://ifttt.com">IFTTT</a> and create an account or login.</li>
  <li>Go to <a href="https://ifttt.com/myrecipes/personal/new">Create a Recipe</a>.</li>
  <li>Click <strong>this</strong> to configure the trigger.</li>
  <li>Search for <code class="highlighter-rouge">maker</code> and click <strong>Maker</strong> to select it.</li>
  <li>The first time you’ll need to click <strong>Connect</strong>, then <strong>Done</strong> in the popup and finally <strong>Continue to the next step</strong>.</li>
  <li>Click on <strong>Receive a web request</strong>.</li>
  <li>Enter an <strong>Event Name</strong>, e.g. <code class="highlighter-rouge">message</code>.</li>
  <li>Click <strong>that</strong> to configure the <strong>Action Channel</strong>.</li>
  <li>For now, let’s search for <code class="highlighter-rouge">email</code> and click <strong>Email</strong> to select it.</li>
  <li>Click <strong>Send me an email</strong>.</li>
  <li>Click <strong>Create Action</strong> and finally <strong>Create Recipe</strong> to finish.</li>
  <li>Go to the <a href="https://ifttt.com/maker">Maker Channel</a> to find your key.</li>
</ol>
<h3 id="wire-your-node-red-flow">Wire your Node-RED flow</h3>
<ol>
  <li>In Node-RED, drop a new <strong>function</strong> on the flow from the <strong>function</strong> category of the toolbox.</li>
  <li>Drag a wire from the upper output of the <strong>ttn</strong> node to the input of the new node.</li>
  <li>Double click the new node to edit it.</li>
  <li>Enter a <strong>Name</strong> like <code class="highlighter-rouge">create request</code>.</li>
  <li>
    <p>As the actual <strong>Function</strong> IFTTT expects a payload with <code class="highlighter-rouge">valueN</code> like:</p>
    <div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="k">return</span> <span class="p">{</span>
    <span class="na">payload</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">value1</span><span class="p">:</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">payload</span><span class="p">.</span><span class="nx">raw</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre>
    </div>
    <p>This should look something like:</p>
    <p><img src="node-red-ifttt-function.png" alt="Edit function node" /></p>
  </li>
  <li>Drag a <strong>http request</strong> node from the same <strong>function</strong> category.</li>
  <li>Drag a wire from the output of the <strong>create request</strong> node to the input of the <strong>http request</strong> node.</li>
  <li>Double click the new node to edit it.</li>
  <li>As <strong>Method</strong> select <strong>POST</strong>.</li>
  <li>For <strong>URL</strong> enter <code class="highlighter-rouge">https://maker.ifttt.com/trigger/{event}/with/key/{key}</code>.
    <ul>
      <li>Replace <code class="highlighter-rouge"><span class="p">{</span><span class="err">event</span><span class="p">}</span></code> with the <strong>Event Name</strong> <code class="highlighter-rouge">message</code> or what you decided to use in step 7 of setting up IFTTT.</li>
      <li>Replace <code class="highlighter-rouge"><span class="p">{</span><span class="err">key</span><span class="p">}</span></code> with the key you found at the <a href="https://ifttt.com/maker">Maker Channel</a> in step 12.</li>
    </ul>
  </li>
  <li>
    <p>Click <strong>Done</strong> and you should now have something like:</p>
    <p><img src="node-red-ifttt-flow.png" alt="Flow" /></p>
  </li>
  <li>
    <p>Click <strong>Deploy</strong> and soon you should receive an email like:</p>
    <p><img src="node-red-ifttt-email.png" alt="E-mail" /></p>
    <p>You probably want to turn off the IFTTT recipe now, unless you like to be spammed.</p>
  </li>
</ol>
          </div>
        </div>
      </div>
      <div class="hidden-xs col-sm-2">
        <div class="page-toc page-affix"></div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="lightbox" tabindex="-1" role="dialog">
  <div class="modal-dialog text-center" role="document" style="width:auto;padding:20px;">
    <a href="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png"><img class="modal-content modal-body" src="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png" alt="Zoom" /></a>
  </div>
</div>
<script src="/docs/assets/js/page.js"></script>
    </div>
    <script src="https://www.thethingsnetwork.org/navbar.js"></script>
    <script src="https://ttnstaticfile.blob.core.windows.net/static/common/js/ga.js"></script>
  </body>
</html>
