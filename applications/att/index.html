<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="stylesheet" href="/docs/assets/css/main.css" />
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script>
    (function(canonical) {
      if (document.location.href.substr(0, document.location.href.length - document.location.hash.length) !== canonical) {
        window.location.replace(canonical);
      }
    })('https://www.thethingsnetwork.org/docs/applications/att/');
    </script>
    <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>AllThingsTalk | The Things Network</title>
<meta name="generator" content="Jekyll v3.4.5" />
<meta property="og:title" content="AllThingsTalk" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="AllThingsTalk Maker. Make IoT ideas happen." />
<meta property="og:description" content="AllThingsTalk Maker. Make IoT ideas happen." />
<link rel="canonical" href="https://www.thethingsnetwork.org/docs/applications/att/" />
<meta property="og:url" content="https://www.thethingsnetwork.org/docs/applications/att/" />
<meta property="og:site_name" content="The Things Network" />
<meta property="og:image" content="https://www.thethingsnetwork.org/docs/assets/images/og-image.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-04-12T07:02:33+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@thethingsnetwrk" />
<meta property="article:publisher" content="https://www.facebook.com/thethingsnetwork" />
<script type="application/ld+json">
{"description":"AllThingsTalk Maker. Make IoT ideas happen.","url":"https://www.thethingsnetwork.org/docs/applications/att/","headline":"AllThingsTalk","dateModified":"2019-04-12T07:02:33+00:00","datePublished":"2019-04-12T07:02:33+00:00","@type":"BlogPosting","image":"https://www.thethingsnetwork.org/docs/assets/images/og-image.png","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ttnstaticfile.blob.core.windows.net/static/common/favicon/largetile.png"}},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.thethingsnetwork.org/docs/applications/att/"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
    <link rel="apple-touch-icon-precomposed" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png">
    <meta name="application-name" content="The Things Network">
    <meta name="msapplication-tooltip" content="Tooltip">
    <meta name="msapplication-config" content="https://ttnweb.azureedge.net/static/common/favicon/ieconfig.54334a5ee30c.xml">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-32.61b30f85680a.png" sizes="32x32">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-57.83b86c64dc82.png" sizes="57x57">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-76.7dcf8fa36dfc.png" sizes="76x76">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-96.27ac17adaa8b.png" sizes="96x96">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-120.e1526731335e.png" sizes="120x120">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-128.fabea041224c.png" sizes="128x128">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png" sizes="144x144">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png" sizes="152x152">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-180.fcd414307ca3.png" sizes="180x180">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-195.c55ce09d66da.png" sizes="195x195">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-228.bea53ec4b10b.png" sizes="228x228">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/smalltile.fabea041224c.png" sizes="128x128">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/mediumtile.3d42f7faac82.png" sizes="270x270">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/widetile.3d42f7faac82.png" sizes="558x270">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/largetile.eb144ebab4d1.png" sizes="558x558">
    <link rel="shortcut icon" sizes="196x196" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-196.277278d69ddc.png">
    <script src="/docs/assets/js/main.js"></script>
  </head>
  <body>
    <div id="header"></div>
    <div id="content">
<div class="layout-page">
  <div class="ttn-header ttn-header-small">
    <div class="ttn-container container-fluid">
      <h1>
        <img src="/docs/assets/images/the-things-white.png" alt="⛅ The Things Network" />
        <span>Learn</span>
      </h1>
    </div>
  </div>
  <div class="container-fluid ttn-container">
    <div class="row page-top-nav">
      <div class="col-sm-9">
        <ul>
          <li class="page-top-nav-crumb"><a href="http://www.thethingsnetwork.org/">Home</a></li>
          <li class="page-top-nav-crumb"><a href="/docs/">Learn</a></li>
                <li class=""><a href="/docs/lorawan/">LoRaWAN</a></li>
                <li class=""><a href="/docs/devices/">Devices</a></li>
                <li class=""><a href="/docs/gateways/">Gateways</a></li>
                <li class=""><a href="/docs/network/">Network</a></li>
                <li class="active"><a href="/docs/applications/">Applications</a></li>
        </ul>
      </div>
      <div class="hidden-xs col-sm-3 text-right">
        <a href="https://github.com/TheThingsNetwork/docs/edit/master/_content/applications/att/index.md" class="page-edit" data-proofer-ignore><i class="fa fa-github"></i> Edit <strong>index.md</strong></a>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-3">
        <div class="panel page-side-nav page-affix">
          <div class="panel-body">
            <h5>Applications</h5>
            <ul>
              <li class=""><a href="/docs/applications/index.html">Overview</a>
            <ul>
                <li class=""><a href="/docs/applications/add.html">Add an Application</a>
                </li>
                <li class=""><a href="/docs/applications/options.html">Build an Application</a>
                </li>
            </ul>
              </li>
            <li class="page-side-nav-section"><span>APIs</span>
            <ul>
                <li class=""><a href="/docs/applications/apis.html">Overview</a>
                </li>
                <li class=""><a href="/docs/applications/manager/">Application Manager API</a>
                </li>
                <li class=""><a href="/docs/applications/mqtt/">Data API (MQTT)</a>
                </li>
            </ul>
            </li>
            <li class="page-side-nav-section"><span>SDKs & Libraries</span>
            <ul>
                <li class=""><a href="/docs/applications/sdks.html">Overview</a>
                </li>
                <li class=""><a href="/docs/applications/golang/">Go</a>
                </li>
                <li class=""><a href="/docs/applications/java/">Java</a>
                </li>
                <li class=""><a href="/docs/applications/nodered/">Node-RED</a>
                </li>
                <li class=""><a href="/docs/applications/nodejs/">Node.js</a>
                </li>
                <li class=""><a href="/docs/applications/python/">Python</a>
                </li>
            </ul>
            </li>
            <li class="page-side-nav-section"><span>Integrations</span>
            <ul>
                <li class=""><a href="/docs/applications/integrations.html">Overview</a>
                </li>
                <li class=""><a href="/docs/applications/aws/">AWS IoT</a>
                </li>
                <li class="active"><a href="/docs/applications/att/">AllThingsTalk</a>
                </li>
                <li class=""><a href="/docs/applications/cayenne/">Cayenne</a>
                </li>
                <li class=""><a href="/docs/applications/collos/">Collos</a>
                </li>
                <li class=""><a href="/docs/applications/http/">HTTP</a>
                </li>
                <li class=""><a href="/docs/applications/opensensors/">OpenSensors</a>
                </li>
                <li class=""><a href="/docs/applications/storage/">Storage</a>
                </li>
                <li class=""><a href="/docs/applications/ttnmapper/">TTN Mapper</a>
                </li>
                <li class=""><a href="/docs/applications/tago/">Tago</a>
                </li>
                <li class=""><a href="/docs/applications/evrythng/">EVRYTHNG</a>
                </li>
            </ul>
            </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-sm-7">
        <div class="panel">
          <div class="panel-body page-content">
            <h2 id="allthingstalk-maker-make-iot-ideas-happen">AllThingsTalk Maker. Make IoT ideas happen.</h2>
<p><a href="http://maker.allthingstalk.com/">AllThingsTalk Maker</a> is the developer platform by AllThingsTalk to rapidly connect your things and collect, visualize and use data in minutes. AllThingsTalk Maker supports your own custom binary data format which you can decode using the ABCL payload decoder. 
AllThingsTalk Maker is free for prototyping purposes.</p>
<h2 id="set-up-the-integration">Set up the integration</h2>
<p>Let’s say that you have a LoRaWAN device with temperature sensor and LED actuator and you want to connect it to Maker.</p>
<blockquote>
  <p>Good example is our <a href="http://shop.allthingstalk.com/product/lora-rapid-development-kit/">LoRaWAN Rapid Development Kit</a> with Grove sensors.</p>
</blockquote>
<p>To enable your data to arrive in Maker, you’ll need to integrate TTN and Maker.</p>
<h3 id="create-an-account-on-the-things-network">Create an account on The Things Network</h3>
<p>Go to <a href="https://console.thethingsnetwork.org/">The Things Network console</a> and register an account.</p>
<h3 id="add-application">Add application</h3>
<ul>
  <li>Select <em>Applications</em></li>
  <li>Click <code class="highlighter-rouge">+ add application</code></li>
  <li>Choose <strong>Application ID</strong>, a unique identifier for your application</li>
  <li>Let the other fields stay on their defaults</li>
  <li>Click <code class="highlighter-rouge">Add application</code></li>
</ul>
<p><img src="images/ttn-add-application.png" alt="TTN Add application" /></p>
<h3 id="add-allthingstalk-integration">Add AllThingsTalk integration</h3>
<ul>
  <li>Select the <em>Integrations</em> tab</li>
  <li>Click <code class="highlighter-rouge">+ add integration</code></li>
  <li>Select the <strong>AllThingsTalk Maker</strong> tile</li>
</ul>
<p><img src="images/ttn-maker-tile.png" alt="TTN Maker tile" /></p>
<ul>
  <li>Choose a <strong>Process ID</strong> for the integration, for example <code class="highlighter-rouge">talk-to-attalk</code></li>
  <li>Select the default key as <strong>Access Key</strong></li>
  <li>Click <code class="highlighter-rouge">Add integration</code></li>
</ul>
<p><img src="images/ttn-add-integration.png" alt="TTN Add integration" /></p>
<h3 id="create-a-lora-device">Create a LoRa Device</h3>
<ul>
  <li>Select <em>Devices</em> tab</li>
  <li>Click <code class="highlighter-rouge">+ register device</code></li>
  <li>Choose a <strong>Device ID</strong></li>
  <li>Enter the <strong>Device EUI</strong> of your device, or generate one</li>
  <li>Click <code class="highlighter-rouge">Register</code></li>
</ul>
<p><img src="images/ttn-register-device.png" alt="TTN Register device" /></p>
<p>Now you have a Device registered under your Application.</p>
<p><img src="images/ttn-device-overview.png" alt="TTN Device overview" /></p>
<h3 id="connect-the-device-to-maker">Connect the device to Maker</h3>
<p>Go to <a href="http://maker.allthingstalk.com">Maker</a> and connect your device:</p>
<ul>
  <li>Go to <strong>Devices</strong></li>
  <li>Choose <code class="highlighter-rouge">+ CONNECT A DEVICE</code></li>
  <li>Under <strong>LPWAN</strong> devices, choose <strong>Your own LoRa</strong></li>
  <li>Choose <strong>The Things Network</strong> tile</li>
  <li>Choose a <strong>Device name</strong>, for example <em>My RDK</em></li>
  <li>Provide an <strong>Application ID</strong> and a <strong>Device EUI</strong> from your Device in TTN console, and click <code class="highlighter-rouge">Connect</code></li>
</ul>
<p><img src="images/ttn-connect-new-device.png" alt="TTN Connect new device" /></p>
<p>Now you’re set to send and receive LoRa data with Maker.</p>
<h2 id="receive-your-sensor-data">Receive your sensor data</h2>
<p>If your device reads temperature sensor’s value it can send it over TTN to your account in Maker.</p>
<h3 id="create-a-sensor">Create a sensor</h3>
<ul>
  <li>Choose <code class="highlighter-rouge">+ NEW ASSET</code></li>
  <li>Create a <strong>Sensor</strong> with name <code class="highlighter-rouge">temperature</code> and profile type <code class="highlighter-rouge">number</code></li>
</ul>
<p><img src="images/ttn-new-sensor.png" alt="TTN New sensor" /></p>
<h3 id="send-data-from-ttn-console-and-receive-it-in-maker">Send data from TTN console and receive it in Maker</h3>
<p>Before you start sending data from your device, you can test if your LoRa data arrives in Maker by sending it from TTN console.</p>
<p>You typically want to use a binary data format because of the limited payload size which are inherent to LPWAN networks such as LoRaWAN.</p>
<p>One of the payload formats Maker understands is <a href="http://cbor.io">CBOR</a>. The message format which AllThingsTalk uses for CBOR is
<code class="highlighter-rouge"><span class="p">{</span><span class="nt">"&lt;asset name&gt;"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;value&gt;</span><span class="p">}</span></code>.</p>
<p>In RDK example, your temperature sensor reads 23 degrees Celsius, and you’d like to see that value in Maker. You can use <a href="http://cbor.me">cbor.me</a> to convert the payload to CBOR, e.g,</p>
<p><code class="highlighter-rouge"><span class="p">{</span><span class="nt">"temperature"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">}</span></code> translates to <code class="highlighter-rouge">A1 6B 74 65 6D 70 65 72 61 74 75 72 65 17</code></p>
<blockquote>
  <p>Read more about <a href="/developers/data-formats/">data formats</a>.</p>
</blockquote>
<p>Now you can send the payload from TTN console and verify that it arrives in Maker:</p>
<ul>
  <li>In TTN console, go to <em>Device</em> tab</li>
  <li>Use <strong>SIMULATE UPLINK</strong> to send a payload:</li>
</ul>
<p><img src="images/ttn-simulate-uplink.png" alt="TTN Simulate uplink" /></p>
<ul>
  <li>In Maker you will see <code class="highlighter-rouge">temperature</code> state updated to <code class="highlighter-rouge">23</code></li>
</ul>
<p><img src="images/ttn-maker-state-update.png" alt="TTN Maker state update" /></p>
<blockquote>
  <p>​​Important: LoRaWAN class ‘A’ devices can only receive payload data (downlink messages) as a response on an uplink message. The network uses the receiving slot of an uplink message to send data towards the device as typically the device will go to sleep mode to conserve energy.</p>
</blockquote>
<h2 id="actuate-your-device">Actuate your device</h2>
<p>Now that you’ve received your data in Maker, you can command your device from Maker, and turn on the LED. Before you do so, you can test by sending a command from Maker and receiving it in TTN console.</p>
<h3 id="create-an-actuator-asset">Create an actuator asset</h3>
<p>Create a <code class="highlighter-rouge">LED</code> asset which you’ll use to send a command.</p>
<ul>
  <li>Choose <code class="highlighter-rouge">+ NEW ASSET</code></li>
  <li>Create an <strong>Actuator</strong> with name <code class="highlighter-rouge">LED</code> and profile type <code class="highlighter-rouge">boolean</code></li>
</ul>
<p><img src="images/ttn-new-actuator.png" alt="TTN new actuator" /></p>
<h3 id="actuate-your-device-with-cbor">Actuate your device with CBOR</h3>
<p>The easiest way to test the actuations is by using CBOR. The message format which AllThingsTalk uses for CBOR is
<code class="highlighter-rouge"><span class="p">{</span><span class="nt">"&lt;asset name&gt;"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;value&gt;</span><span class="p">}</span></code>.</p>
<p>You can use <a href="http://cbor.me">cbor.me</a> to convert your payload to CBOR, e.g,</p>
<ul>
  <li><code class="highlighter-rouge"><span class="p">{</span><span class="nt">"LED"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span></code> translates to <code class="highlighter-rouge">A1 63 4C 45 44 F5</code></li>
</ul>
<p>In Maker, click on the asset <code class="highlighter-rouge">LED</code>, and from <code class="highlighter-rouge">Command</code> field send the command <code class="highlighter-rouge">true</code>:</p>
<p><img src="images/ttn-actuate.png" alt="TTN Actuate via CBOR" /></p>
<p>Back in TTN console go to <strong>Data</strong> screen, and you’ll see the payload <code class="highlighter-rouge">A1 63 4C 45 44 F5</code> coming in:</p>
<p><img src="images/ttn-application-data-cbor.png" alt="TTN Application data CBOR" /></p>
<blockquote>
  <p>For your RDK device, you’d need to implement a logic which would turn on the LED when a value comes from Maker. For example, when value <code class="highlighter-rouge">true</code> comes from the asset <code class="highlighter-rouge">LED</code> your code will set LED state to <code class="highlighter-rouge">HIGH</code> and the LED on your device would light up.</p>
</blockquote>
<h3 id="actuate-your-device-with-abcl">Actuate your device with ABCL</h3>
<p><strong>ABCL</strong> stands for <a href="http://docs.allthingstalk.com/dl/AllThingsTalk_Binary_Conversion_Language_1_0_0.pdf">AllThingsTalk Binary Conversion Language</a> , and it’s a JSON-based, domain specific language, used for encoding and decoding of AllThingsTalk asset data to and from binary payloads. It gives you the freedom to specify your own decoding scheme on a per device level.</p>
<p>As opposed to CBOR, which sends  <code class="highlighter-rouge">A1 63 4C 45 44 F5</code> when you send <code class="highlighter-rouge">true</code> command from <code class="highlighter-rouge">LED</code> asset in Maker, with ABCL you can set a conversion which sends only <code class="highlighter-rouge">FF</code> for the same command. This results in much less data being used to achieve the same goal.</p>
<p>To set up a conversion in Maker, go to <code class="highlighter-rouge">SETTINGS &gt; Payload formats</code> and check ☑️ <strong>Use ABCL to convert custom binary data.</strong></p>
<p>Add a conversation which will translate the boolean state of <code class="highlighter-rouge">LED</code> actuator into the first byte of your binary payload:</p>
<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="nt">"actuate"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nt">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mode"</span><span class="p">,</span><span class="w"> </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">"byte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="p">}}]}</span><span class="w">
</span></code></pre>
</div>
<p><img src="images/ttn-payload-formats.png" alt="TTN Payload formats" /></p>
<p>Click on the asset <code class="highlighter-rouge">LED</code>, and from <code class="highlighter-rouge">Command</code> field send the command <code class="highlighter-rouge">true</code>:</p>
<p><img src="images/ttn-actuate.png" alt="TTN Actuate via CBOR" /></p>
<p>Back in TTN console go to <strong>Data</strong> screen, and you’ll see the payload <code class="highlighter-rouge">FF</code> coming in:</p>
<p><img src="images/ttn-application-data-abcl.png" alt="TTN Application data ABCL" /></p>
<p>You can now use Maker to collect your temperature readings, and turn on the LED on your device.</p>
<p>Go ahead and make your idea happen using <a href="https://www1.allthingstalk.com/lorawan-rapid-development-kit">AllThingsTalk LoRaWAN Rapid Development Kit</a>.</p>
          </div>
        </div>
      </div>
      <div class="hidden-xs col-sm-2">
        <div class="page-toc page-affix"></div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="lightbox" tabindex="-1" role="dialog">
  <div class="modal-dialog text-center" role="document" style="width:auto;padding:20px;">
    <a href="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png"><img class="modal-content modal-body" src="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png" alt="Zoom" /></a>
  </div>
</div>
<script src="/docs/assets/js/page.js"></script>
    </div>
    <div id="footer"></div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.min.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/ttn-components.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/vue-navbar.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/vue-footer.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/ga.js"></script>
  </body>
</html>
