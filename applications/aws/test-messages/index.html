<!DOCTYPE html>

<html lang="en-us" class="has-ttn-navbar-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <meta name="generator" content="Hugo 0.88.1" />

  <title>Test Messages | The Things Network</title>
  <link rel="canonical" href="https://www.thethingsnetwork.org/docs/applications/aws/test-messages/" />
  

  <link rel="apple-touch-icon-precomposed" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png">

  <meta name="msapplication-TileColor" content="#FFFFFF">
  <meta name="msapplication-TileImage" content="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png">

  <meta name="application-name" content="The Things Network">
  <meta name="msapplication-tooltip" content="Tooltip">
  <meta name="msapplication-config" content="https://ttnweb.azureedge.net/static/common/favicon/ieconfig.54334a5ee30c.xml">

  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-32.61b30f85680a.png" sizes="32x32">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-57.83b86c64dc82.png" sizes="57x57">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-76.7dcf8fa36dfc.png" sizes="76x76">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-96.27ac17adaa8b.png" sizes="96x96">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-120.e1526731335e.png" sizes="120x120">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-128.fabea041224c.png" sizes="128x128">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png" sizes="144x144">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png" sizes="152x152">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-180.fcd414307ca3.png" sizes="180x180">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-195.c55ce09d66da.png" sizes="195x195">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-228.bea53ec4b10b.png" sizes="228x228">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/smalltile.fabea041224c.png" sizes="128x128">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/mediumtile.3d42f7faac82.png" sizes="270x270">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/widetile.3d42f7faac82.png" sizes="558x270">
  <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/largetile.eb144ebab4d1.png" sizes="558x558">
  <link rel="shortcut icon" sizes="196x196" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-196.277278d69ddc.png">
  <link rel="stylesheet" href="https://www.thethingsnetwork.org/docs/css/theme.min.58fca61d6003439b384e4126a522c6391c0560a0cbd77a99c73d351bb2018920.css" integrity="sha256-WPymHWADQ5s4TkEmpSLGORwFYKDL13qZxz01G7IBiSA=" crossorigin="anonymous">

  <link rel="stylesheet" href="https://ttui.thethingsindustries.com/release/1.6.0/main.css" />

  <meta property="og:title" content="Test Messages" />
<meta property="og:description" content="We are building a global open free crowdsourced long range low power IoT data network" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.thethingsnetwork.org/docs/applications/aws/test-messages/" /><meta property="og:image" content="https://www.thethingsnetwork.org/docs/img/og-image.png"/><meta property="og:site_name" content="The Things Network" />



  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.thethingsnetwork.org/docs/img/og-image.png"/>

<meta name="twitter:title" content="Test Messages"/>
<meta name="twitter:description" content="We are building a global open free crowdsourced long range low power IoT data network"/>


</head>


<body>

<ttn-header class="theme-ttn" root-url="https://www.thethingsnetwork.org"></ttn-header><section class="section">
  <div class="container">
    <nav class="breadcrumb has-dot-separator" aria-label="breadcrumbs">
      <ul>
        
        
          <li><a href="https://www.thethingsnetwork.org/docs/v2-docs/">Go Back - V2 Docs (Outdated)</a></li>
        
        
            <li class="">
              <a href="https://www.thethingsnetwork.org/docs/devices/">Devices (V2)</a>
            </li>
          
        
            <li class="">
              <a href="https://www.thethingsnetwork.org/docs/gateways/">Gateways (V2)</a>
            </li>
          
        
            <li class="is-active">
              <a href="https://www.thethingsnetwork.org/docs/applications/">Applications (V2)</a>
            </li>
          
        
            <li class="">
              <a href="https://www.thethingsnetwork.org/docs/network/">Network (V2)</a>
            </li>
          
        
      
      </ul>
    </nav>
    
      <div class="notification is-warning is-light has-text-dark">
        <h5 class="title is-family-sans-serif has-text-dark mb-1">Warning:</h5>
        This section contains documentation written for The Things Network V2, which is no longer maintained. See <a href="https://thethingsindustries.com/docs">documentation for The Things Stack V3</a>.
      </div>
    
  </div>
</section>
<div class="container" role="document">
  <div class="columns my-0 is-desktop">
    <div class="column is-3-desktop sidebar-left">
      


<nav class="side-navigation" aria-label="Main navigation">

<h2 class="title is-size-5">Applications</h2>

<div class="menu">
  <ul class="menu-list">
  <a href="https://www.thethingsnetwork.org/docs/applications/" class="">Overview</a>
  <li>
      <a href="https://www.thethingsnetwork.org/docs/applications/add/" class="">Add an Application</a>
    </li>
  <li>
      <a href="https://www.thethingsnetwork.org/docs/applications/options/" class="">Build an Application</a>
    </li>
  
    <p class="menu-label">
      APIs
    </p>
    
      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/apis/" class="">Overview</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/manager/" class="">Application Manager API</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/mqtt/" class="">Data API (MQTT)</a>
</li>

  
    <p class="menu-label">
      SDKs &amp; Libraries
    </p>
    
      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/sdks/" class="">Overview</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/golang/" class="">Go</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/java/" class="">Java</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/nodered/" class="">Node-RED</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/nodejs/" class="">Node.js</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/python/" class="">Python</a>
</li>

  
    <p class="menu-label">
      Integrations
    </p>
    
      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/evrythng/" class="">EVRYTHNG</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/integrations/" class="">Overview</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/att/" class="">AllThingsTalk</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/aws/" class="">AWS IoT</a>
  


<ul class="menu-list">

  <li>
    <a href="https://www.thethingsnetwork.org/docs/applications/aws/update/" class="">Update</a>
    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/applications/aws/view-metrics/" class="">View Metrics</a>
    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/applications/aws/act-on-data/" class="">Act on Data</a>
    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/applications/aws/thing-shadows/" class="">Thing Shadows</a>
    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/applications/aws/test-messages/" class="is-active">Test Messages</a>
    
    



    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/applications/aws/thing-registry/" class="">Thing Registry</a>
    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/applications/aws/quick-start/" class="">Quick Start</a>
    
  </li>

  <li>
    <a href="https://www.thethingsnetwork.org/docs/applications/aws/troubleshooting/" class="">Troubleshooting</a>
    
  </li>

</ul>


  
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/cayenne/" class="">Cayenne</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/collos/" class="">Collos</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/http/" class="">HTTP</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/opensensors/" class="">OpenSensors</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/smart-office/" class="">Smart Office Kit</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/storage/" class="">Storage</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/tago/" class="">Tago</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/thingspeak/" class="">ThingSpeak</a>
</li>

      
<li>
  <a href="https://www.thethingsnetwork.org/docs/applications/ttnmapper/" class="">TTN Mapper</a>
</li>

  
  </ul>
</div>





</nav>

    </div>
    <div class="column is-9-desktop sidebar-middle">
      <div class="docs-content">
        <h1 class="title is-size-2">
          Test Messages
        </h1>
        <div class="content">
          
<p>The integration publishes uplink messages to AWS IoT MQTT and subscribes to downlink messages. The integration uses the same <a href="/docs/applications/mqtt/api/#uplink-messages">MQTT topic and payload format</a> as The Things Network MQTT.</p>
<p>This guide walks you through subscribing and storing uplink messages and publishing a downlink message.</p>
<blockquote>
<p>AWS IoT supports MQTT, HTTP and WebSockets to work with data programmatically. See <a href="https://docs.aws.amazon.com/iot/latest/developerguide/protocols.html">Protocols</a> for more information.</p>
</blockquote>
<h2 id="uplink-messages">Uplink Messages&nbsp;<a class="header-hash" href="#uplink-messages">#</a> </h2>
<p>When developing LoRaWAN applications in AWS IoT, you often want to view data as it arrives for testing if everything works. AWS IoT features a Test view to subscribe to an MQTT topic and show live data.</p>
<ol>
<li>Log in to the <a href="http://console.aws.amazon.com">AWS Management Console</a></li>
<li>In <strong>Services</strong> under <strong>Internet Of Things</strong>, go to <strong>AWS IoT</strong></li>
<li>In the menu on the left, go to <strong>Test</strong></li>
<li>Enter in <strong>Subscription topic</strong> the uplink topic <code>+/devices/+/up</code> (or <code>&lt;AppID&gt;/devices/+/up</code> for a specific application). <a href="https://www.thethingsnetwork.org/docs/applications/mqtt/api.html#uplink-messages">Read more about uplink topics</a></li>
</ol>
<p><img src="../test-subscribe.png" alt="Test subscribe"></p>
<ol start="5">
<li>Click <strong>Subscribe to topic</strong></li>
<li>Uplink messages are shown as they arrive</li>
</ol>
<p><img src="../test-uplink.png" alt="Test uplink"></p>
<h2 id="downlink-messages">Downlink Messages&nbsp;<a class="header-hash" href="#downlink-messages">#</a> </h2>
<p>When developing LoRaWAN applications in AWS IoT, you often want to send downlink messages to test the behavior of your device. The AWS IoT Test view can also be used to publish downlink messages.</p>
<ol>
<li>Log in to the <a href="http://console.aws.amazon.com">AWS Management Console</a></li>
<li>In <strong>Services</strong> under <strong>Internet Of Things</strong>, go to <strong>AWS IoT</strong></li>
<li>In the menu on the left, go to <strong>Test</strong></li>
<li>Under <strong>Publish</strong>, enter a downlink topic to publish to: <code>&lt;AppID&gt;/devices/&lt;DevID&gt;/down</code></li>
<li>Enter the downlink message according to the downlink message format (see <a href="https://www.thethingsnetwork.org/docs/applications/mqtt/api.html#downlink-messages">MQTT topic and payload format</a>):</li>
</ol>
<p>For example, sending raw payload:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="p">{</span>
  <span class="c1">// LoRaWAN FPort
</span><span class="c1"></span>  <span class="s2">&#34;port&#34;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="c1">// Unconfirmed downlink
</span><span class="c1"></span>  <span class="s2">&#34;confirmed&#34;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="c1">// Base64 encoded payload
</span><span class="c1"></span>  <span class="s2">&#34;payload_raw&#34;</span><span class="o">:</span> <span class="s2">&#34;AQIDBA==&#34;</span>
<span class="p">}</span>
</code></pre></div><p><img src="../downlink-publish.png" alt="Publish downlink"></p>
<ol start="6">
<li>Click <strong>Publish to topic</strong></li>
<li>See the downlink message scheduled in The Things Network Console:</li>
</ol>
<p><img src="../downlink-console.png" alt="Downlink scheduled"></p>
<blockquote>
<p>See <a href="https://docs.aws.amazon.com/iot/latest/developerguide/protocols.html">Protocols</a> to learn how to interact with the AWS IoT message broker programmatically.</p>
</blockquote>


        </div>
      
      




  

  


<div class="is-clearfix">
</div>

      </div>
    </div>
  </div>
</div>


<div class="ttn-footer ttui-container"><ttn-footer class="theme-ttn"></ttn-footer></div>

<script src="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
<script src="https://ttnweb.azureedge.net/static/common/js/ga.js"></script>
<script src="https://www.thethingsnetwork.org/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsnetwork.org/docs/js/theme.min.e9d1391ae656a4b9575605eb0f2bd96dd90db33c4923e109f52a813861a4da1a.js" integrity="sha256-6dE5GuZWpLlXVgXrDyvZbdkNszxJI&#43;EJ9SqBOGGk2ho=" crossorigin="anonymous"></script>

<ttui-cookie class="theme-ttn" id="cookie-banner"></ttui-cookie>

<script>
  var cookieBanner = document.getElementById("cookie-banner");
  window.addEventListener("ttuicookieaccept", cookieAccept, { capture: true, once: true } );
  var cookieAcceptKey = 'ttn-ca'
  var timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;

  if (readCookieAccept() || !timezone.includes("Europe") ) {
      cookieBanner.setAttribute('accepted', true);
  }

  function readCookieAccept() {
      return localStorage.getItem(cookieAcceptKey)
  }

  function cookieAccept() {
      localStorage.setItem(cookieAcceptKey, true);
  }
</script>

</body>

</html>
