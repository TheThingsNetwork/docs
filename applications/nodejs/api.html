<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="stylesheet" href="/docs/assets/css/main.css" />
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script>
    (function(canonical) {
      if (document.location.href.substr(0, document.location.href.length - document.location.hash.length) !== canonical) {
        window.location.replace(canonical);
      }
    })('https://www.thethingsnetwork.org/docs/applications/nodejs/api.html');
    </script>
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>API Reference | The Things Network</title>
<meta name="generator" content="Jekyll v3.4.5" />
<meta property="og:title" content="API Reference" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="We are building a global open free crowdsourced long range low power IoT data network." />
<meta property="og:description" content="We are building a global open free crowdsourced long range low power IoT data network." />
<link rel="canonical" href="https://www.thethingsnetwork.org/docs/applications/nodejs/api.html" />
<meta property="og:url" content="https://www.thethingsnetwork.org/docs/applications/nodejs/api.html" />
<meta property="og:site_name" content="The Things Network" />
<meta property="og:image" content="https://www.thethingsnetwork.org/docs/assets/images/og-image.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-02-14T10:34:45+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://www.thethingsnetwork.org/docs/assets/images/og-image.png" />
<meta property="twitter:title" content="API Reference" />
<meta name="twitter:site" content="@thethingsnetwrk" />
<meta property="article:publisher" content="https://www.facebook.com/thethingsnetwork" />
<script type="application/ld+json">
{"description":"We are building a global open free crowdsourced long range low power IoT data network.","headline":"API Reference","dateModified":"2020-02-14T10:34:45+00:00","datePublished":"2020-02-14T10:34:45+00:00","@type":"BlogPosting","image":"https://www.thethingsnetwork.org/docs/assets/images/og-image.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.thethingsnetwork.org/docs/applications/nodejs/api.html"},"url":"https://www.thethingsnetwork.org/docs/applications/nodejs/api.html","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ttnstaticfile.blob.core.windows.net/static/common/favicon/largetile.png"}},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
    <link rel="apple-touch-icon-precomposed" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png">
    <meta name="application-name" content="The Things Network">
    <meta name="msapplication-tooltip" content="Tooltip">
    <meta name="msapplication-config" content="https://ttnweb.azureedge.net/static/common/favicon/ieconfig.54334a5ee30c.xml">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-32.61b30f85680a.png" sizes="32x32">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-57.83b86c64dc82.png" sizes="57x57">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-76.7dcf8fa36dfc.png" sizes="76x76">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-96.27ac17adaa8b.png" sizes="96x96">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-120.e1526731335e.png" sizes="120x120">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-128.fabea041224c.png" sizes="128x128">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png" sizes="144x144">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png" sizes="152x152">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-180.fcd414307ca3.png" sizes="180x180">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-195.c55ce09d66da.png" sizes="195x195">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-228.bea53ec4b10b.png" sizes="228x228">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/smalltile.fabea041224c.png" sizes="128x128">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/mediumtile.3d42f7faac82.png" sizes="270x270">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/widetile.3d42f7faac82.png" sizes="558x270">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/largetile.eb144ebab4d1.png" sizes="558x558">
    <link rel="shortcut icon" sizes="196x196" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-196.277278d69ddc.png">
    <script src="/docs/assets/js/main.js"></script>
  </head>
  <body>
    <div id="header"></div>
    <div id="content">
<div class="layout-page">
  <!-- <div class="ttn-header ttn-header-small">
    <div class="ttn-container container-fluid">
      <h1>
        <img src="/docs/assets/images/the-things-white.png" alt="⛅ The Things Network" />
        <span>Learn</span>
      </h1>
    </div>
  </div> -->
  <div class="container-fluid ttn-container">
    <div class="row page-top-nav">
      <div class="col-sm-9">
        <ul>
          <li class="page-top-nav-crumb"><a href="http://www.thethingsnetwork.org/">Home</a></li>
          <li class="page-top-nav-crumb"><a href="/docs/">Learn</a></li>
                <li class=""><a href="/docs/lorawan/">LoRaWAN</a></li>
                <li class=""><a href="/docs/devices/">Devices</a></li>
                <li class=""><a href="/docs/gateways/">Gateways</a></li>
                <li class=""><a href="/docs/network/">Network</a></li>
                <li class="active"><a href="/docs/applications/">Applications</a></li>
        </ul>
      </div>
      <div class="hidden-xs col-sm-3 text-right">
        <a href="https://github.com/TheThingsNetwork/node-app-sdk/blob/master/DOCUMENTATION.md" class="page-edit" data-proofer-ignore><i class="fa fa-github"></i> Edit <strong>api.md</strong></a>
      </div>
    </div>
    <div class="row wrapper">
      <div class="col-sm-3 side-nav">
        <div class="panel page-side-nav">
          <div class="panel-body">
            <ul>
              <li class="">
<a href="/docs/applications/index.html"><h5>Applications</h5></a>
            <ul>
                <li class="">
<a href="/docs/applications/add.html">Add an Application</a>
                </li>
                <li class="">
<a href="/docs/applications/options.html">Build an Application</a>
                </li>
            </ul>
              </li>
            <li class="page-side-nav-section">
<span>APIs</span>
            <ul>
                <li class="">
<a href="/docs/applications/apis.html">Overview</a>
                </li>
                <li class="">
<a href="/docs/applications/manager/">Application Manager API</a>
                </li>
                <li class="">
<a href="/docs/applications/mqtt/">Data API (MQTT)</a>
                </li>
            </ul>
            </li>
            <li class="page-side-nav-section">
<span>SDKs &amp; Libraries</span>
            <ul>
                <li class="">
<a href="/docs/applications/sdks.html">Overview</a>
                </li>
                <li class="">
<a href="/docs/applications/golang/">Go</a>
                </li>
                <li class="">
<a href="/docs/applications/java/">Java</a>
                </li>
                <li class="">
<a href="/docs/applications/nodered/">Node-RED</a>
                </li>
                <li class="">
<a href="/docs/applications/nodejs/">Node.js</a>
            <ul>
                <li class="">
<a href="/docs/applications/nodejs/quick-start.html">Quick Start</a>
                </li>
                <li class="active">
<a href="/docs/applications/nodejs/api.html">API Reference</a>
                </li>
            </ul>
                </li>
                <li class="">
<a href="/docs/applications/python/">Python</a>
                </li>
            </ul>
            </li>
            <li class="page-side-nav-section">
<span>Integrations</span>
            <ul>
                <li class="">
<a href="/docs/applications/integrations.html">Overview</a>
                </li>
                <li class="">
<a href="/docs/applications/aws/">AWS IoT</a>
                </li>
                <li class="">
<a href="/docs/applications/att/">AllThingsTalk</a>
                </li>
                <li class="">
<a href="/docs/applications/cayenne/">Cayenne</a>
                </li>
                <li class="">
<a href="/docs/applications/collos/">Collos</a>
                </li>
                <li class="">
<a href="/docs/applications/http/">HTTP</a>
                </li>
                <li class="">
<a href="/docs/applications/opensensors/">OpenSensors</a>
                </li>
                <li class="">
<a href="/docs/applications/storage/">Storage</a>
                </li>
                <li class="">
<a href="/docs/applications/ttnmapper/">TTN Mapper</a>
                </li>
                <li class="">
<a href="/docs/applications/tago/">Tago</a>
                </li>
                <li class="">
<a href="/docs/applications/thingspeak/">ThingSpeak</a>
                </li>
                <li class="">
<a href="/docs/applications/evrythng/">EVRYTHNG</a>
                </li>
            </ul>
            </li>
            </ul>
            <!-- <li class="hidden-xs col-sm-2 page-toc page-affix"></li> --> 
          </div>
        </div> 
      </div>
      <div class="col-sm-9 page-body">
        <div class="panel">
          <div class="panel-body page-content">
            <!-- Generated by documentation.js. Update this documentation by updating the source code. -->
<h2 id="application">Application</h2>
<p>Application is an application on the network.</p>
<p>Type: {appId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, payloadFormat: PayloadFormat, decoder: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?, converter: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?, validator: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?, encoder: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?, registerOnJoinAccessKey: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?}</p>
<p><strong>Properties</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">appId</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">payloadFormat</code> <strong>PayloadFormat</strong>
</li>
  <li>
<code class="highlighter-rouge">decoder</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?</strong>
</li>
  <li>
<code class="highlighter-rouge">converter</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?</strong>
</li>
  <li>
<code class="highlighter-rouge">validator</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?</strong>
</li>
  <li>
<code class="highlighter-rouge">encoder</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?</strong>
</li>
  <li>
<code class="highlighter-rouge">registerOnJoinAccessKey</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?</strong>
</li>
</ul>
<h2 id="key">key</h2>
<p>Generates a new key to be used for Lora</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">length</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></strong>  (optional, default <code class="highlighter-rouge">16</code>)</li>
</ul>
<h2 id="is-token">is-token</h2>
<p>Returns true if the passed in string
is a json web token, and false otherwise.
It does NOT validate the token signature.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">str</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></strong></p>
<p>##</p>
<p>A token that can register ApplicationSettings</p>
<h2 id="setup">setup</h2>
<p>Setup function that prepares the environment with the required
application and devices for testing.</p>
<h2 id="payloadfunctions">PayloadFunctions</h2>
<p>PayloadFunctions is an object that bundles the payload functions of an
application.</p>
<p>Type: {decoder: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?, converter: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?, validator: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?, encoder: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?}</p>
<p><strong>Properties</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">decoder</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?</strong>
</li>
  <li>
<code class="highlighter-rouge">converter</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?</strong>
</li>
  <li>
<code class="highlighter-rouge">validator</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?</strong>
</li>
  <li>
<code class="highlighter-rouge">encoder</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?</strong>
</li>
</ul>
<h2 id="open">open</h2>
<p><code class="highlighter-rouge">open</code> creates and opens a HandlerClient for the application with the specified ID.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">appID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> The ID of the application you want to manage.</li>
  <li>
<code class="highlighter-rouge">accessKerOrToken</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">opts</code> <strong><a href="#discoveryoptions">DiscoveryOptions</a>?</strong> Optional options to pass to the Discovery client.</li>
  <li>
<code class="highlighter-rouge">tokenOrKey</code>  The Access Token or Access Key used to authenticate.</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="#handlerclient">HandlerClient</a>&gt;</strong></p>
<h2 id="accountclient">AccountClient</h2>
<p><code class="highlighter-rouge">Account</code> is a client for The Things Network account server API.
It can be used to manage applications and their EUIs, as well as gateways.
Either a Bearer Token or an Application Access Key can be used for
authentication. The latter method allows to use the <code class="highlighter-rouge">getApplication()</code>
function only.</p>
<p>Example:</p>
<div class="highlighter-rouge">
<pre class="highlight"><code>const account = new Account("accesKeyOrToken", "https://customserveradress.org")
</code></pre>
</div>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">accessKeyOrToken</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">serverAddress</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>  (optional, default <code class="highlighter-rouge">"https://account.thethingsnetwork.org"</code>)</li>
</ul>
<h3 id="getallapplications">getAllApplications</h3>
<p>Gets metadata about all applications that are accessible with
the given accessToken</p>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="#accountapplication">AccountApplication</a>»</strong></p>
<h3 id="getapplication">getApplication</h3>
<p>Gets the information that is stored about a given application.
This includes the EUIs, name access keys, collaborators.
The properties that can be retrieved depend on the rights of
the used authorization mechanism.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">appID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="#accountapplication">AccountApplication</a>&gt;</strong></p>
<h3 id="createapplication">createApplication</h3>
<p>Creates a new application on the account server.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">app</code> <strong><a href="#minimalaccapplication">MinimalAccApplication</a></strong>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;</strong></p>
<h3 id="deleteapplication">deleteApplication</h3>
<p>Removes an application from the account server.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">appID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;</strong></p>
<h3 id="addcollaborator">addCollaborator</h3>
<p>Adds a collaborator with a set of access rights to the given application.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">appID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">collaborator</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">rights</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="#appaccessrights">AppAccessRights</a>&gt;</strong>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;</strong></p>
<h3 id="deletecollaborator">deleteCollaborator</h3>
<p>Removes a collaborator by her username from an application</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">appID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">collaborator</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;</strong></p>
<h3 id="addeui">addEUI</h3>
<p>Adds an EUI to the given application. Must be hexadecimal with a length of 16.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">appID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">eui</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;</strong></p>
<h3 id="deleteeui">deleteEUI</h3>
<p>Removes an EUI from the given application.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">appID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">eui</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;</strong></p>
<h2 id="handlerclient">HandlerClient</h2>
<p><code class="highlighter-rouge">Handler</code> is a  client for The Things Network handler APIs.
It can be used to get data from an application or to manage devices.</p>
<p>Example:</p>
<div class="highlighter-rouge">
<pre class="highlight"><code>const handler = new Handler("my-app-id", "my-app-access-key")
</code></pre>
</div>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">appID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">appAccessKey</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">opts</code> <strong><a href="#discoveryoptions">DiscoveryOptions</a>?</strong>
</li>
</ul>
<h3 id="open-1">open</h3>
<p><code class="highlighter-rouge">open</code> opens the client to the handler.</p>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="#handlerclient">HandlerClient</a>&gt;</strong></p>
<h3 id="data">data</h3>
<p>Open a data client that can be used to receive live application data</p>
<p>Returns <strong><a href="#dataclient">DataClient</a></strong></p>
<h3 id="application-1">application</h3>
<p>Open a application manager that can be used to manage the settings and devices of the
application.</p>
<p>Returns <strong><a href="#applicationclient">ApplicationClient</a></strong></p>
<h2 id="discoveryoptions">DiscoveryOptions</h2>
<p>Type: {address: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?, insecure: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?, certificate: (<a href="https://nodejs.org/api/buffer.html">Buffer</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)?}</p>
<p><strong>Properties</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">address</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?</strong>
</li>
  <li>
<code class="highlighter-rouge">insecure</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?</strong>
</li>
  <li>
<code class="highlighter-rouge">certificate</code> <strong>(<a href="https://nodejs.org/api/buffer.html">Buffer</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)?</strong>
</li>
</ul>
<h2 id="applicationclient">ApplicationClient</h2>
<p>A client that manages devices on the handler.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">appID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">tokenOrKey</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">netAddress</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">certificate</code> <strong>(<a href="https://nodejs.org/api/buffer.html">Buffer</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)?</strong>
</li>
</ul>
<h3 id="constructor">constructor</h3>
<p>Create and open an application manager client that can be used for
retreiving and updating an application and its devices.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">appID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> The ID of the application you want to manage</li>
  <li>
<code class="highlighter-rouge">tokenOrKey</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> The Access Token or Access Key used to authenticate</li>
  <li>
<code class="highlighter-rouge">netAddress</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> The gRPC address of the handler where the application is registered</li>
  <li>
<code class="highlighter-rouge">certificate</code> <strong>(<a href="https://nodejs.org/api/buffer.html">Buffer</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)?</strong> An optional certificate used to connect to the handler securely</li>
</ul>
<p>Returns <strong>void</strong></p>
<h3 id="get">get</h3>
<p>Get the application</p>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="#application">Application</a>&gt;</strong></p>
<h3 id="setpayloadformat">setPayloadFormat</h3>
<p>Change the payload format of the application.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">format</code> <strong>PayloadFormat</strong>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;void&gt;</strong></p>
<h3 id="setcustompayloadfunctions">setCustomPayloadFunctions</h3>
<p>Set the custom payload functions of the application and set the format
to custom.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">fns</code> <strong><a href="#payloadfunctions">PayloadFunctions</a></strong>  (optional, default <code class="highlighter-rouge"><span class="p">{}</span></code>)</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;void&gt;</strong></p>
<h3 id="setregisteronjoinaccesskey">setRegisterOnJoinAccessKey</h3>
<p>Set the registerOnJoinAccessKey or remove it.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">to</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;void&gt;</strong></p>
<h3 id="unregister">unregister</h3>
<p>Unregister the application from the handler.</p>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;void&gt;</strong></p>
<h3 id="devices">devices</h3>
<p>List the devices of the application</p>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;Device»</strong></p>
<h3 id="registerdevice">registerDevice</h3>
<p>Register a device in the application.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">devID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">device</code> <strong>DeviceUpdates</strong>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;void&gt;</strong></p>
<h3 id="device">device</h3>
<p>Get the device specified by the devID</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">devID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;Device&gt;</strong></p>
<h3 id="updatedevice">updateDevice</h3>
<p>Update the device specified by the devID with the specified updates</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">devID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">updates</code> <strong>DeviceUpdates</strong>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;void&gt;</strong></p>
<h3 id="deletedevice">deleteDevice</h3>
<p>Delete the specified device.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">devID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;void&gt;</strong></p>
<h3 id="geteuis">getEUIs</h3>
<p>Returns the EUI(s) for this application from the account server.</p>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>»</strong></p>
<h3 id="getdeviceaddress">getDeviceAddress</h3>
<p>Return a device address for the given constraints.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">usage</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;Usage&gt;</strong> The list for wich the address will be used.</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="https://nodejs.org/api/buffer.html">Buffer</a>&gt;</strong> address - A buffer containing the address.</p>
<h2 id="applicationsettings">ApplicationSettings</h2>
<p>ApplicationSettings hold the settings of an application.</p>
<p>Type: {payloadFormat: PayloadFormat?, registerOnJoinAccessKey: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?}</p>
<p><strong>Properties</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">payloadFormat</code> <strong>PayloadFormat?</strong>
</li>
  <li>
<code class="highlighter-rouge">registerOnJoinAccessKey</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?</strong>
</li>
</ul>
<h2 id="dataclient">DataClient</h2>
<p>DataClient is a client for The Things Network data API.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">appID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">appAccessKey</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">mqttAddress</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
</ul>
<h3 id="constructor-1">constructor</h3>
<p>Creates a new DataClient and opens the MQTT connection.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">appID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">appAccessKey</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">mqttAddress</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
</ul>
<p>Returns <strong>void</strong></p>
<h3 id="close">close</h3>
<p>Close the mqtt connection</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">force</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?</strong> passing it to true will close the client right away, without waiting for the in-flight messages to be acked</li>
  <li>
<code class="highlighter-rouge">callback</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>?</strong> will be called when the client is closed</li>
</ul>
<h3 id="end">end</h3>
<p>Same as close (for backwards compatibility).</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">force</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?</strong>
</li>
  <li>
<code class="highlighter-rouge">callback</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">Function</a>?</strong>
</li>
</ul>
<h3 id="on">on</h3>
<p>Starts listening to events.</p>
<p>Possible events (application messages):</p>
<ul>
  <li>
<code class="highlighter-rouge">uplink</code> (or <code class="highlighter-rouge">message</code>): Messages sent by the devices to the appliction.</li>
  <li>
<code class="highlighter-rouge">activation</code>: An alias for the <code class="highlighter-rouge">activations</code> (see <code class="highlighter-rouge">event</code>)</li>
  <li>
<code class="highlighter-rouge">event</code> (or <code class="highlighter-rouge">device</code>): Events that happen to devices. You can filter on
the events by adding more parameters. For instance:
    <ul>
      <li><code class="highlighter-rouge">downlink/scheduled</code></li>
      <li><code class="highlighter-rouge">downlink/sent</code></li>
      <li><code class="highlighter-rouge">activations</code></li>
      <li><code class="highlighter-rouge">create</code></li>
      <li><code class="highlighter-rouge">update</code></li>
      <li><code class="highlighter-rouge">delete</code></li>
      <li><code class="highlighter-rouge">down/acks</code></li>
      <li><code class="highlighter-rouge">up/errors</code></li>
      <li><code class="highlighter-rouge">down/errors</code></li>
      <li><code class="highlighter-rouge">activations/errors</code></li>
    </ul>
  </li>
</ul>
<p>See <a href="https://www.thethingsnetwork.org/docs/applications/mqtt/api.html">The MQTT API Reference</a>
for more information about these events and what their payloads look like.</p>
<p>MQTT connection events:</p>
<ul>
  <li>
<code class="highlighter-rouge">error</code>: An error occured / the initial connection failed.</li>
  <li>
<code class="highlighter-rouge">connect</code>: A connection to the MQTT broker was established.</li>
  <li>
<code class="highlighter-rouge">disconnect</code>: The connection to the MQTT broker was lost.</li>
  <li>
<code class="highlighter-rouge">reconnect</code>: A reconnect to the MQTT broker is attempted.</li>
  <li>
<code class="highlighter-rouge">close</code>: A connection (attempt) failed.</li>
</ul>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">event</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> The name of the event to listen to.</li>
  <li>
<code class="highlighter-rouge">args</code> <strong>…<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;any&gt;</strong>
</li>
  <li>
<code class="highlighter-rouge">devID</code>  An optional devID. If not passed will subscribe to the event for all devices.</li>
  <li>
<code class="highlighter-rouge">callback</code>  The callback to call when the event occurs.</li>
</ul>
<p><strong>Examples</strong></p>
<div class="language-javascript highlighter-rouge">
<pre class="highlight"><code><span class="c1">// listens to all uplinks from all devices</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"uplink"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">devID</span><span class="p">,</span> <span class="nx">message</span><span class="p">)</span> <span class="p">{})</span>
</code></pre>
</div>
<div class="language-javascript highlighter-rouge">
<pre class="highlight"><code><span class="c1">// listens to all uplinks from the device with id `foo`</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"uplink"</span><span class="p">,</span> <span class="s2">"foo"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">devID</span><span class="p">,</span> <span class="nx">message</span><span class="p">)</span> <span class="p">{})</span>
</code></pre>
</div>
<div class="language-javascript highlighter-rouge">
<pre class="highlight"><code><span class="c1">// listens to all device events for all devices</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"event"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">devID</span><span class="p">,</span> <span class="nx">message</span><span class="p">)</span> <span class="p">{})</span>
</code></pre>
</div>
<div class="language-javascript highlighter-rouge">
<pre class="highlight"><code><span class="c1">// listens to all device events for device with id `foo`</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"event"</span><span class="p">,</span> <span class="s2">"foo"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">devID</span><span class="p">,</span> <span class="nx">message</span><span class="p">)</span> <span class="p">{})</span>
</code></pre>
</div>
<div class="language-javascript highlighter-rouge">
<pre class="highlight"><code><span class="c1">// listens to the `downlink/scheduled` events for device with id `foo`</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"event"</span><span class="p">,</span> <span class="s2">"foo"</span><span class="p">,</span> <span class="s2">"downlink/scheduled"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">devID</span><span class="p">,</span> <span class="nx">message</span><span class="p">)</span> <span class="p">{})</span>
</code></pre>
</div>
<div class="language-javascript highlighter-rouge">
<pre class="highlight"><code><span class="c1">// listens to the `downlink/scheduled` events for all devices</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"event"</span><span class="p">,</span> <span class="s2">"+"</span><span class="p">,</span> <span class="s2">"downlink/scheduled"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">devID</span><span class="p">,</span> <span class="nx">message</span><span class="p">)</span> <span class="p">{})</span>
</code></pre>
</div>
<p>Returns <strong>void</strong></p>
<h3 id="off">off</h3>
<p>Stop listening to events.
The argument structure is the same as for <code class="highlighter-rouge">on()</code>.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">event</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">args</code> <strong>…<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;any&gt;</strong>
</li>
</ul>
<p>Returns <strong>void</strong></p>
<h3 id="send">send</h3>
<p>Send a downlink message to the device with the specified device ID.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">devID</code> <strong>DeviceID</strong> The device ID of the device to send the downlink to.</li>
  <li>
    <div class="table-responsive"><table class="table">
      <tbody>
        <tr>
          <td>
<code class="highlighter-rouge">payload</code> **(PayloadArray</td>
          <td>PayloadRaw</td>
          <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></td>
          <td>PayloadFields)** The raw payload as a Buffer, an Array of numbers, a hex string  or an object of payload fields.</td>
        </tr>
      </tbody>
    </table></div>
  </li>
  <li>
<code class="highlighter-rouge">port</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></strong> The port to send the message on.</li>
  <li>
<code class="highlighter-rouge">confirmed</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></strong> Set to true for confirmed downlink.</li>
  <li>
<code class="highlighter-rouge">schedule</code> <strong>Schedule</strong> Set to the scheduling you want to use (first, last or replace).</li>
</ul>
<h2 id="service">Service</h2>
<p>Service is an enum of the possible services types to get from the discovery
server.</p>
<p>Type: (<code class="highlighter-rouge">"router"</code> | <code class="highlighter-rouge">"broker"</code> | <code class="highlighter-rouge">"handler"</code>)</p>
<h2 id="application-2">application</h2>
<p><code class="highlighter-rouge">application</code> creates and opens an ApplicationClient for the application with the specified ID.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">appID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> The ID of the application you want to manage</li>
  <li>
<code class="highlighter-rouge">accessKeyOrToken</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> The Access Token or Access Key used to authenticate</li>
  <li>
<code class="highlighter-rouge">opts</code> <strong><a href="#discoveryoptions">DiscoveryOptions</a>?</strong>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="#applicationclient">ApplicationClient</a>&gt;</strong></p>
<h2 id="app">app</h2>
<p>The app used for testing</p>
<p>##</p>
<p>Settings for the discovery server</p>
<h2 id="announcement">Announcement</h2>
<p>Announcement is an announcement on the discovery server.</p>
<p>Type: {id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, serviceName: <a href="#service">Service</a>, serviceVersion: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, description: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, pb_public: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>, url: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, netAddress: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, mqttAddress: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, apiAddress: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, publicKey: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?, certificate: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?, metadataList: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;any&gt;?}</p>
<p><strong>Properties</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">id</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">serviceName</code> <strong><a href="#service">Service</a></strong>
</li>
  <li>
<code class="highlighter-rouge">serviceVersion</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">description</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">pb_public</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></strong>
</li>
  <li>
<code class="highlighter-rouge">url</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">netAddress</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">mqttAddress</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">apiAddress</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">publicKey</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?</strong>
</li>
  <li>
<code class="highlighter-rouge">certificate</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?</strong>
</li>
  <li>
<code class="highlighter-rouge">metadataList</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;any&gt;?</strong>
</li>
</ul>
<h2 id="data-1">data</h2>
<p><code class="highlighter-rouge">data</code> creates and opens an DataClient for the application with the specified ID.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">appID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> The ID of the application you want to manage</li>
  <li>
<code class="highlighter-rouge">accessKeyOrToken</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> The Access Token or Access Key used to authenticate</li>
  <li>
<code class="highlighter-rouge">opts</code> <strong><a href="#discoveryoptions">DiscoveryOptions</a>?</strong>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="#dataclient">DataClient</a>&gt;</strong></p>
<p>##</p>
<p>Settings for the handler</p>
<h2 id="account">account</h2>
<p><code class="highlighter-rouge">account</code> creates an AccountClient for the user associated to the specified key or token.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">accessKeyOrToken</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> The Access Token or Access Key used to authenticate</li>
  <li>
<code class="highlighter-rouge">serverAddress</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> The URL to the account server to use. Defaults to “<a href="https://account.thethingsnetwork.org">https://account.thethingsnetwork.org</a>”</li>
</ul>
<p>Returns <strong><a href="#accountclient">AccountClient</a></strong></p>
<h2 id="discovery">Discovery</h2>
<p>Discovery is a client for The Things Network discovery API</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">opts</code> <strong><a href="#discoveryoptions">DiscoveryOptions</a></strong>  (optional, default <code class="highlighter-rouge"><span class="p">{}</span></code>)</li>
</ul>
<h3 id="constructor-2">constructor</h3>
<p>Create a new Discovery client.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">opts</code> <strong><a href="#discoveryoptions">DiscoveryOptions</a></strong>  (optional, default <code class="highlighter-rouge"><span class="p">{}</span></code>)</li>
</ul>
<p>Returns <strong>void</strong></p>
<h3 id="getall">getAll</h3>
<p><code class="highlighter-rouge">getAll</code> returns announcements for all services known to
the discovery server that match the service name.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">serviceName</code> <strong><a href="#service">Service</a></strong> The name of the services to look for, eg. <code class="highlighter-rouge">"handler"</code>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="#announcement">Announcement</a>»</strong></p>
<h3 id="get-1">get</h3>
<p><code class="highlighter-rouge">get</code> returns the announcement for the service with the
specified service name and id.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">serviceName</code> <strong><a href="#service">Service</a></strong> The name of the services to look for, eg. <code class="highlighter-rouge">"handler"</code>
</li>
  <li>
<code class="highlighter-rouge">id</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> The id of the service to look for, eg. <code class="highlighter-rouge">"ttn-handler-eu"</code>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="#announcement">Announcement</a>&gt;</strong></p>
<h3 id="getbyappid">getByAppID</h3>
<p><code class="highlighter-rouge">getByAppID</code> gets a handler announcement by application ID.
It looks up the handler the application is registered to.</p>
<p><strong>Parameters</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">appID</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="#announcement">Announcement</a>&gt;</strong></p>
<h2 id="appaccessrights">AppAccessRights</h2>
<p>AppAccessRights</p>
<p>Type: (<code class="highlighter-rouge">"settings"</code> | <code class="highlighter-rouge">"delete"</code> | <code class="highlighter-rouge">"collaborators"</code> | <code class="highlighter-rouge">"devices"</code> | <code class="highlighter-rouge">"messages:up:r"</code> | <code class="highlighter-rouge">"messages:up:w"</code> | <code class="highlighter-rouge">"messages:down:w"</code>)</p>
<h2 id="services">services</h2>
<p>services is a map with the known service names for the discovery server.</p>
<p>Type: {}</p>
<h3 id="handler">Handler</h3>
<p>Handler is a Handler service</p>
<h3 id="router">Router</h3>
<p>Router is a Router service</p>
<h3 id="broker">Broker</h3>
<p>Broker is a Broker service</p>
<h2 id="minimalaccapplication">MinimalAccApplication</h2>
<p>The minimal payload for to the POST /applications route
of the account server</p>
<p>Type: {id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>}</p>
<p><strong>Properties</strong></p>
<ul>
  <li>
<code class="highlighter-rouge">id</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
  <li>
<code class="highlighter-rouge">name</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong>
</li>
</ul>
<h2 id="accountapplication">AccountApplication</h2>
<p>AccountApplication contains the metadata of an application
returned by the account server. Presence of optional fields
depends on the <a href="#appaccessrights">access rights</a> of the used accessKey / -token.</p>
<p>Type: any</p>
          </div>  
        </div>
        <div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="lightbox" tabindex="-1" role="dialog">
  <div class="modal-dialog text-center" role="document" style="width:auto;padding:20px;">
    <a href="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png"><img class="modal-content modal-body" src="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png" alt="Zoom"></a>
  </div>
</div>
<script src="/docs/assets/js/page.js"></script>
    </div>
    <div id="footer"></div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.min.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/ttn-components.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/vue-navbar.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/vue-footer.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/ga.js"></script>
  </body>
</html>
